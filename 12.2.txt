.\.venv\Scripts\activate

python src/main.py

python -m pytest tests/test_trade_manager.py -v

주요 변경사항:
주문 실행 전에 현재 포지션 확인
활성화된 포지션이 있으면 주문 실행하지 않고 메시지 전송
레버리지 설정 에러 처리 개선
이렇게 하면:
포지션이 있을 때는 명확한 메시지로 알려주고
새로운 주문을 실행하지 않아 위험을 방지할 수 있습니다
실제 트레이딩에서는 이런 상황에서:
현재 포지션 방향과 새로운 신호 방향 비교
포지션 크기 조정 가능 여부 확인
부분 청산 후 새로운 진입 등의 전략을 구현할 수 있습니다.

필수 필드:
avg_entry_price: 전체 포지션의 평균 진입가격
avg_exit_price: 전체 포지션의 평균 청산가격
total_size: 전체 포지션 크기
realized_pnl: 실현된 손익 (전체 포지션에 대한)
created_time: 포지션 생성 시간
closed_time: 포지션 종료 시간
유용한 추가 필드:
cumulative_realised_pnl: 누적 실현 손익
position_status: "Closed"
symbol: 거래 심볼 (예: "BTCUSDT")
total_entry_value: 전체 진입 가치
total_exit_value: 전체 청산 가치