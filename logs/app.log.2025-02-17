2025-02-17 12:24:30,398 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 12:24:30,398 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 12:24:30,418 - main - INFO - 서비스 초기화 중...
2025-02-17 12:24:30,418 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 12:24:32,519 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 12:24:35,402 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 12:24:35,402 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 12:24:35,402 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 12:24:36,117 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 12:24:36,117 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 12:24:36,854 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 12:24:36,854 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 12:24:36,869 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 12:24:36,869 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 12:24:37,927 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 12:24:37,928 - telegram.ext.Application - INFO - Application started
2025-02-17 12:24:38,174 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 12:25:05,780 - telegram_bot.handlers.analysis_handler - ERROR - 분석 처리 중 오류: 'AutoAnalyzer' object has no attribute 'run_market_analysis'
2025-02-17 12:25:43,534 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 12:25:43,534 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 12:25:43,534 - main - INFO - 서비스 초기화 중...
2025-02-17 12:25:43,550 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 12:25:45,440 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 12:25:45,815 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 12:25:45,815 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 12:25:45,815 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 12:25:46,452 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:25:46,452 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 12:25:46,452 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 12:25:47,080 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:25:47,080 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 12:25:47,080 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 12:25:47,080 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 12:25:47,080 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 12:25:48,084 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 12:25:48,100 - telegram.ext.Application - INFO - Application started
2025-02-17 12:25:48,338 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 12:26:13,748 - telegram_bot.handlers.analysis_handler - ERROR - 분석 처리 중 오류: 'AutoAnalyzer' object has no attribute 'run_market_analysis'
2025-02-17 12:29:57,047 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 12:29:57,047 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 12:29:57,059 - main - INFO - 서비스 초기화 중...
2025-02-17 12:29:57,059 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 12:29:59,087 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 12:29:59,471 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 12:29:59,471 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 12:29:59,471 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 12:30:00,129 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:30:00,129 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 12:30:00,129 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 12:30:00,796 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:30:00,797 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 12:30:00,797 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 12:30:00,797 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 12:30:00,797 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 12:30:01,821 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 12:30:01,821 - telegram.ext.Application - INFO - Application started
2025-02-17 12:30:02,068 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 12:31:29,180 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 12:31:29,180 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 12:31:29,180 - main - INFO - 서비스 초기화 중...
2025-02-17 12:31:29,180 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 12:31:31,206 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 12:31:31,586 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 12:31:31,586 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 12:31:31,586 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 12:31:32,206 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:31:32,206 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 12:31:32,206 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 12:31:32,836 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:31:32,836 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 12:31:32,836 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 12:31:32,836 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 12:31:32,836 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 12:31:33,856 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 12:31:33,857 - telegram.ext.Application - INFO - Application started
2025-02-17 12:31:34,098 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 12:31:49,628 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 12:31:49,628 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 12:31:50,007 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 12:31:50,022 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 91474.8, 'bid': 91466.6, 'ask': 91650.0, 'volume': 80422.77, 'timestamp': None}
2025-02-17 12:31:50,022 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 12:31:50,022 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 12:31:52,720 - telegram_bot.formatters.storage_formatter - ERROR - 분석 결과 저장 중 오류: 'str' object does not support item assignment
2025-02-17 12:31:52,735 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: BUY
2025-02-17 12:31:52,735 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: BUY
2025-02-17 12:31:52,735 - telegram_bot.monitors.auto_analyzer - ERROR - 매매 신호 처리 중 오류: 'OrderService' object has no attribute 'execute_trade'
2025-02-17 12:31:52,735 - telegram_bot.monitors.auto_analyzer - ERROR - Traceback (most recent call last):
  File "C:\Users\oasis\Aibybit_2\src\telegram_bot\monitors\auto_analyzer.py", line 132, in _handle_trading_signals
    trade_result = await self.order_service.execute_trade(signals)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'OrderService' object has no attribute 'execute_trade'

2025-02-17 12:33:50,693 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 12:33:50,693 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 12:33:50,693 - main - INFO - 서비스 초기화 중...
2025-02-17 12:33:50,693 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 12:33:52,937 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 12:33:53,319 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 12:33:53,319 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 12:33:53,319 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 12:33:53,948 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:33:53,948 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 12:33:53,948 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 12:33:54,574 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:33:54,574 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 12:33:54,574 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 12:33:54,574 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 12:33:54,574 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 12:33:55,578 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 12:33:55,578 - telegram.ext.Application - INFO - Application started
2025-02-17 12:33:55,841 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 12:34:06,267 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 12:34:06,267 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 12:34:06,551 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 12:34:06,551 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 92203.2, 'bid': 91950.0, 'ask': 92203.2, 'volume': 80429.508, 'timestamp': None}
2025-02-17 12:34:06,567 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 12:34:06,569 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 12:34:08,480 - telegram_bot.formatters.storage_formatter - ERROR - 분석 결과 저장 중 오류: 'str' object has no attribute 'copy'
2025-02-17 12:34:08,480 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: BUY
2025-02-17 12:34:08,480 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: BUY
2025-02-17 12:34:08,611 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 765ms
2025-02-17 12:34:08,803 - order_service - ERROR - 매매 실행 중 오류: 'OrderService' object has no attribute 'open_long_position'
2025-02-17 12:42:41,101 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 12:42:41,102 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 12:42:41,107 - main - INFO - 서비스 초기화 중...
2025-02-17 12:42:41,107 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 12:42:42,918 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 12:42:43,427 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 12:42:43,428 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 12:42:43,428 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 12:42:44,109 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:42:44,110 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 12:42:44,110 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 12:42:44,820 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:42:44,821 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 12:42:44,821 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 12:42:44,821 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 12:42:44,824 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 12:42:45,848 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 12:42:45,848 - telegram.ext.Application - INFO - Application started
2025-02-17 12:42:46,097 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 12:42:57,583 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 12:42:57,584 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 12:42:57,909 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 12:42:57,910 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 90271.5, 'bid': 90248.1, 'ask': 90271.5, 'volume': 80421.796, 'timestamp': None}
2025-02-17 12:42:57,912 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 12:42:57,912 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 12:42:59,919 - telegram_bot.formatters.storage_formatter - ERROR - 분석 결과 저장 중 오류: [Errno 2] No such file or directory: "C:\\Users\\oasis\\Aibybit_2\\src\\data\\analysis\\analysis_{'market_summary': {'current_price': 90271.5, 'market_phase': '횡보', 'sentiment': 'NEUTRAL', 'short_term': 'NEUTRAL', 'volume': 'VOLUME_NEUTRAL', 'risk': 'MEDIUM', 'confidence': 75}, 'technical_analysis': {'trend': 'SIDEWAYS', 'strength': 61, 'indicators': {'rsi': 58.44781803440862, 'macd': 'STRONG_BULLISH', 'bollinger': 'ABOVE_MIDDLE', 'divergence_type': '없음', 'divergence_desc': '현재 다이버전스 없음'}}, 'trading_signals': {'position_suggestion': 'HOLD', 'leverage': 1, 'position_size': 10, 'entry_price': 90271.5, 'stop_loss': 88466.06999999999, 'take_profit1': 92076.93000000001, 'take_profit2': 93882.36, 'reason': '변동성이 낮고 명확한 추세 신호가 없음'}, 'auto_trading': {'enabled': True, 'status': 'active'}, 'saved_at': '2025-02-17 12:42:59 KST', 'timestamp': 1739763779919}.json"
2025-02-17 12:42:59,923 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: HOLD
2025-02-17 12:42:59,923 - telegram_bot.monitors.auto_analyzer - INFO - 관망 신호, 자동 매매 실행하지 않음
2025-02-17 12:44:30,916 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 12:44:30,918 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 12:44:30,923 - main - INFO - 서비스 초기화 중...
2025-02-17 12:44:30,924 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 12:44:32,917 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 12:44:33,336 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 12:44:33,336 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 12:44:33,337 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 12:44:34,016 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:44:34,017 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 12:44:34,017 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 12:44:34,688 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:44:34,689 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 12:44:34,689 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 12:44:34,690 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 12:44:34,690 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 12:44:35,703 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 12:44:35,704 - telegram.ext.Application - INFO - Application started
2025-02-17 12:44:35,963 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 12:44:46,464 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 12:44:46,464 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 12:44:46,750 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 12:44:46,751 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 90271.5, 'bid': 90248.1, 'ask': 90271.5, 'volume': 80417.849, 'timestamp': None}
2025-02-17 12:44:46,753 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 12:44:46,754 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 12:44:48,531 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 12:44:48,531 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: HOLD
2025-02-17 12:44:48,532 - telegram_bot.monitors.auto_analyzer - INFO - 관망 신호, 자동 매매 실행하지 않음
2025-02-17 12:48:58,002 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 12:48:58,003 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 12:48:58,008 - main - INFO - 서비스 초기화 중...
2025-02-17 12:48:58,009 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 12:48:59,751 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 12:49:00,151 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 12:49:00,152 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 12:49:00,152 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 12:49:00,832 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:49:00,833 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 12:49:00,833 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 12:49:01,492 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:49:01,493 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 12:49:01,493 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 12:49:01,493 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 12:49:01,493 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 12:49:02,503 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 12:49:02,504 - telegram.ext.Application - INFO - Application started
2025-02-17 12:49:02,754 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 12:49:20,744 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 12:49:20,746 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 12:49:21,165 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 12:49:21,167 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 88399.9, 'bid': 88342.7, 'ask': 88384.5, 'volume': 80415.024, 'timestamp': None}
2025-02-17 12:49:21,175 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 12:49:21,176 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 12:49:23,730 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 12:49:25,178 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: HOLD
2025-02-17 12:49:25,179 - telegram_bot.monitors.auto_analyzer - INFO - 관망 신호, 자동 매매 실행하지 않음
2025-02-17 12:56:45,781 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 12:56:45,782 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 12:56:45,788 - main - INFO - 서비스 초기화 중...
2025-02-17 12:56:45,788 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 12:56:48,102 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 12:56:48,499 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 12:56:48,499 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 12:56:48,500 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 12:56:49,157 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:56:49,157 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 12:56:49,157 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 12:56:49,809 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 12:56:49,810 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 12:56:49,810 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 12:56:49,810 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 12:56:49,810 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 12:56:51,840 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 12:56:51,840 - telegram.ext.Application - INFO - Application started
2025-02-17 12:56:52,091 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 12:56:59,641 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 12:56:59,642 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 12:56:59,960 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 12:56:59,976 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 92203.2, 'bid': 91950.0, 'ask': 92203.2, 'volume': 80427.395, 'timestamp': None}
2025-02-17 12:56:59,983 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 12:56:59,984 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 12:57:02,280 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 12:57:03,686 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: BUY
2025-02-17 12:57:03,687 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: BUY
2025-02-17 12:57:03,687 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'BUY', 'leverage': 5, 'position_size': 10, 'entry_price': 92203.2, 'stop_loss': 90359.1, 'take_profit1': 94047.26, 'take_profit2': 95891.33, 'reason': 'RSI > 50, MACD > 0, 볼린저 밴드 중앙 이상, 상승 추세'}
2025-02-17 12:57:03,814 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 777ms
2025-02-17 12:57:04,106 - order_service - ERROR - 매매 신호 실행 실패: None
2025-02-17 12:59:57,378 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 12:59:57,379 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 12:59:57,386 - main - INFO - 서비스 초기화 중...
2025-02-17 12:59:57,387 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 12:59:59,236 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 12:59:59,657 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 12:59:59,657 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 12:59:59,657 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 13:00:00,552 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:00:00,554 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 13:00:00,554 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 13:00:01,374 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:00:01,375 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 13:00:01,375 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 13:00:01,375 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 13:00:01,375 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 13:00:02,448 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 13:00:02,449 - telegram.ext.Application - INFO - Application started
2025-02-17 13:00:02,699 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 13:00:09,123 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 13:00:09,125 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 13:00:09,442 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 13:00:09,443 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 91350.0, 'bid': 91200.0, 'ask': 91500.0, 'volume': 80423.932, 'timestamp': None}
2025-02-17 13:00:09,448 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 13:00:09,449 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 13:00:12,294 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 13:00:13,733 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: BUY
2025-02-17 13:00:13,734 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: BUY
2025-02-17 13:00:13,736 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'BUY', 'leverage': 5, 'position_size': 10, 'entry_price': 91350.0, 'stop_loss': 89523.0, 'take_profit1': 93177.0, 'take_profit2': 95004.0, 'reason': 'RSI > 50, MACD > 0, 볼린저 밴드 중앙 이상 및 상승 추세'}
2025-02-17 13:00:13,871 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 776ms
2025-02-17 13:00:14,059 - order_service - ERROR - 매매 신호 실행 실패: None
2025-02-17 13:02:10,805 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 13:02:10,805 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 13:02:10,811 - main - INFO - 서비스 초기화 중...
2025-02-17 13:02:10,811 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 13:02:12,993 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 13:02:13,387 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 13:02:13,388 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 13:02:13,388 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 13:02:14,051 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:02:14,052 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 13:02:14,053 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 13:02:14,713 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:02:14,713 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 13:02:14,714 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 13:02:14,714 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 13:02:14,715 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 13:02:15,728 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 13:02:15,729 - telegram.ext.Application - INFO - Application started
2025-02-17 13:02:15,977 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 13:02:30,184 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 13:02:30,185 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 13:02:30,570 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 13:02:30,570 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 92203.2, 'bid': 91950.0, 'ask': 92203.2, 'volume': 80416.641, 'timestamp': None}
2025-02-17 13:02:30,572 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 13:02:30,572 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 13:02:32,738 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 13:02:34,159 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: BUY
2025-02-17 13:02:34,160 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: BUY
2025-02-17 13:02:34,160 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'BUY', 'leverage': 5, 'position_size': 10, 'entry_price': 92203.2, 'stop_loss': 90359.1, 'take_profit1': 94047.26, 'take_profit2': 95891.33, 'reason': 'RSI > 50, MACD > 0, 볼린저 밴드 중앙 이상, 상승 추세'}
2025-02-17 13:02:34,297 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 776ms
2025-02-17 13:02:34,494 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 13:02:34,494 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Buy",
  "leverage": 5,
  "position_size": 10,
  "entry_price": 92203.2,
  "stop_loss": 90359.1,
  "take_profit": 94047.26,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 13:02:34,496 - order_service - INFO - API 응답:
None
2025-02-17 13:02:34,496 - order_service - ERROR - 매매 신호 실행 실패:
2025-02-17 13:02:34,497 - order_service - ERROR - - 파라미터: {'symbol': 'BTCUSDT', 'side': 'Buy', 'leverage': 5, 'position_size': 10, 'entry_price': 92203.2, 'stop_loss': 90359.1, 'take_profit': 94047.26, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 13:02:34,497 - order_service - ERROR - - 응답: None
2025-02-17 13:11:16,349 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 13:11:16,356 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 13:11:16,362 - main - INFO - 서비스 초기화 중...
2025-02-17 13:11:16,363 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 13:11:18,499 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 13:11:18,945 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 13:11:18,946 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 13:11:18,946 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 13:11:19,753 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:11:19,754 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 13:11:19,754 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 13:11:20,552 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:11:20,553 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 13:11:20,554 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 13:11:20,555 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 13:11:20,555 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 13:11:21,587 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 13:11:21,588 - telegram.ext.Application - INFO - Application started
2025-02-17 13:11:21,835 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 13:11:55,701 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 13:11:55,702 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 13:11:56,166 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 13:11:56,167 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 92203.2, 'bid': 91950.0, 'ask': 92203.2, 'volume': 80442.947, 'timestamp': None}
2025-02-17 13:11:56,170 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 13:11:56,170 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 13:11:58,392 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 13:11:59,823 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: BUY
2025-02-17 13:11:59,823 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: BUY
2025-02-17 13:11:59,824 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'BUY', 'leverage': 5, 'position_size': 10, 'entry_price': 92203.2, 'stop_loss': 90359.1, 'take_profit1': 94047.26, 'take_profit2': 95891.33, 'reason': 'RSI > 50, MACD > 0, 볼린저 밴드 중앙 이상, 상승 추세'}
2025-02-17 13:11:59,824 - order_service - ERROR - 주문 생성 중 오류: 'OrderService' object has no attribute '_validate_side'
2025-02-17 13:11:59,828 - order_service - ERROR - Traceback (most recent call last):
  File "C:\Users\oasis\Aibybit_2\src\services\order_service.py", line 155, in create_order
    params['side'] = self._validate_side(params['side'])
                     ^^^^^^^^^^^^^^^^^^^
AttributeError: 'OrderService' object has no attribute '_validate_side'

2025-02-17 13:11:59,829 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 13:11:59,829 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Buy",
  "leverage": 5,
  "position_size": 10,
  "entry_price": 92203.2,
  "stop_loss": 90359.1,
  "take_profit": 94047.26,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 13:11:59,830 - order_service - INFO - API 응답:
None
2025-02-17 13:11:59,831 - order_service - ERROR - 매매 신호 실행 실패:
2025-02-17 13:11:59,831 - order_service - ERROR - - 파라미터: {'symbol': 'BTCUSDT', 'side': 'Buy', 'leverage': 5, 'position_size': 10, 'entry_price': 92203.2, 'stop_loss': 90359.1, 'take_profit': 94047.26, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 13:11:59,832 - order_service - ERROR - - 응답: None
2025-02-17 13:13:59,473 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 13:13:59,474 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 13:13:59,479 - main - INFO - 서비스 초기화 중...
2025-02-17 13:13:59,480 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 13:14:01,504 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 13:14:01,989 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 13:14:01,989 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 13:14:01,990 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 13:14:02,677 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:14:02,678 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 13:14:02,678 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 13:14:03,352 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:14:03,353 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 13:14:03,353 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 13:14:03,353 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 13:14:03,353 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 13:14:04,358 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 13:14:04,359 - telegram.ext.Application - INFO - Application started
2025-02-17 13:14:04,611 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 13:14:13,190 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 13:14:13,190 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 13:14:13,503 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 13:14:13,504 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 96600.0, 'bid': 96599.0, 'ask': 96600.0, 'volume': 107116.225, 'timestamp': None}
2025-02-17 13:14:13,506 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 13:14:13,507 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 13:14:15,578 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 13:14:16,989 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: BUY
2025-02-17 13:14:16,989 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: BUY
2025-02-17 13:14:16,990 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'BUY', 'leverage': 5, 'position_size': 10, 'entry_price': 96600.0, 'stop_loss': 94668.0, 'take_profit1': 98532.0, 'take_profit2': 100464.0, 'reason': 'RSI > 50, MACD > 0, 볼린저 밴드 중앙 이상, 상승 추세'}
2025-02-17 13:14:17,126 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 782ms
2025-02-17 13:14:17,305 - order_service - INFO - 주문 실행 시도: {'category': 'linear', 'symbol': 'BTCUSDT', 'side': 'Buy', 'orderType': 'Limit', 'qty': '0.0', 'price': '96600.0', 'timeInForce': 'GTC', 'positionIdx': 0, 'reduceOnly': False, 'stopLoss': '94668.0', 'takeProfit': '98532.0'}
2025-02-17 13:14:17,478 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 13:14:17,479 - order_service - INFO - 요청 파라미터:
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Buy",
  "orderType": "Limit",
  "qty": "0.0",
  "price": "96600.0",
  "timeInForce": "GTC",
  "positionIdx": 0,
  "reduceOnly": false,
  "stopLoss": "94668.0",
  "takeProfit": "98532.0"
}
2025-02-17 13:14:17,484 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "The number of contracts exceeds minimum limit allowed",
  "result": {},
  "retExtInfo": {},
  "time": 1739765658262
}
2025-02-17 13:14:17,488 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 13:14:17,490 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Buy",
  "leverage": 5,
  "position_size": 10,
  "entry_price": 96600.0,
  "stop_loss": 94668.0,
  "take_profit": 98532.0,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 13:14:17,499 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "The number of contracts exceeds minimum limit allowed",
  "result": {},
  "retExtInfo": {},
  "time": 1739765658262
}
2025-02-17 13:14:17,504 - order_service - ERROR - 매매 신호 실행 실패:
2025-02-17 13:14:17,506 - order_service - ERROR - - 파라미터: {'symbol': 'BTCUSDT', 'side': 'Buy', 'leverage': 5, 'position_size': 10, 'entry_price': 96600.0, 'stop_loss': 94668.0, 'take_profit': 98532.0, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 13:14:17,508 - order_service - ERROR - - 응답: {'retCode': 10001, 'retMsg': 'The number of contracts exceeds minimum limit allowed', 'result': {}, 'retExtInfo': {}, 'time': 1739765658262}
2025-02-17 13:14:17,510 - order_service - ERROR - - 에러 코드: 10001
2025-02-17 13:14:17,511 - order_service - ERROR - - 에러 메시지: The number of contracts exceeds minimum limit allowed
2025-02-17 13:21:52,118 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 13:21:52,121 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 13:21:52,129 - main - INFO - 서비스 초기화 중...
2025-02-17 13:21:52,129 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 13:21:54,264 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 13:21:54,807 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 13:21:54,808 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 13:21:54,808 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 13:21:55,547 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:21:55,549 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 13:21:55,549 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 13:21:56,217 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:21:56,218 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 13:21:56,218 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 13:21:56,219 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 13:21:56,219 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 13:21:57,291 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 13:21:57,292 - telegram.ext.Application - INFO - Application started
2025-02-17 13:21:57,546 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 13:22:05,641 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 13:22:05,642 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 13:22:05,972 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 13:22:05,974 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 92400.0, 'bid': 92390.7, 'ask': 92399.2, 'volume': 162141.542, 'timestamp': None}
2025-02-17 13:22:05,985 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 13:22:05,986 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 13:22:08,192 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 13:22:09,607 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: BUY
2025-02-17 13:22:09,609 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: BUY
2025-02-17 13:22:09,610 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'BUY', 'leverage': 5, 'position_size': 10, 'entry_price': 92400.0, 'stop_loss': 90552.0, 'take_profit1': 94248.0, 'take_profit2': 96096.0, 'reason': 'RSI > 50, MACD > 0, 볼린저 밴드 중앙 이상, 상승 추세'}
2025-02-17 13:22:09,751 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 787ms
2025-02-17 13:22:09,977 - order_service - INFO - 주문 실행 시도: {'category': 'linear', 'symbol': 'BTCUSDT', 'side': 'Buy', 'orderType': 'Limit', 'qty': '0.001', 'price': '92400.0', 'timeInForce': 'GTC', 'positionIdx': 0, 'reduceOnly': False, 'stopLoss': '90552.0', 'takeProfit': '94248.0'}
2025-02-17 13:22:10,174 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 13:22:10,175 - order_service - INFO - 요청 파라미터:
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Buy",
  "orderType": "Limit",
  "qty": "0.001",
  "price": "92400.0",
  "timeInForce": "GTC",
  "positionIdx": 0,
  "reduceOnly": false,
  "stopLoss": "90552.0",
  "takeProfit": "94248.0"
}
2025-02-17 13:22:10,177 - order_service - INFO - API 응답:
{
  "retCode": 0,
  "retMsg": "OK",
  "result": {
    "orderId": "2b351108-060d-4e0d-b5dd-a5703ba159ba",
    "orderLinkId": ""
  },
  "retExtInfo": {},
  "time": 1739766130959
}
2025-02-17 13:22:10,180 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 13:22:10,180 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Buy",
  "leverage": 5,
  "position_size": 10,
  "entry_price": 92400.0,
  "stop_loss": 90552.0,
  "take_profit": 94248.0,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 13:22:10,191 - order_service - INFO - API 응답:
{
  "retCode": 0,
  "retMsg": "OK",
  "result": {
    "orderId": "2b351108-060d-4e0d-b5dd-a5703ba159ba",
    "orderLinkId": ""
  },
  "retExtInfo": {},
  "time": 1739766130959
}
2025-02-17 13:22:10,194 - order_service - INFO - 매매 신호 실행 성공: {'symbol': 'BTCUSDT', 'side': 'Buy', 'leverage': 5, 'position_size': 10, 'entry_price': 92400.0, 'stop_loss': 90552.0, 'take_profit': 94248.0, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 13:22:10,195 - order_formatter - ERROR - 주문 포맷팅 중 오류: 'stop_loss'
2025-02-17 13:29:59,312 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 13:29:59,315 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 13:29:59,321 - main - INFO - 서비스 초기화 중...
2025-02-17 13:29:59,322 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 13:30:01,438 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 13:30:02,805 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 13:30:02,805 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 13:30:02,806 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 13:30:03,467 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:30:03,468 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 13:30:03,468 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 13:30:04,166 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:30:04,166 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 13:30:04,167 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 13:30:04,167 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 13:30:04,167 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 13:30:05,193 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 13:30:05,193 - telegram.ext.Application - INFO - Application started
2025-02-17 13:30:05,443 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 13:30:21,854 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 13:30:21,855 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 13:30:22,329 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 13:30:22,330 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 90031.3, 'bid': 90000.0, 'ask': 90026.0, 'volume': 204314.673, 'timestamp': None}
2025-02-17 13:30:22,333 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 13:30:22,333 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 13:30:24,653 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 13:30:26,057 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: BUY
2025-02-17 13:30:26,058 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: BUY
2025-02-17 13:30:26,058 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'BUY', 'leverage': 5, 'position_size': 10, 'entry_price': 90031.3, 'stop_loss': 88230.7, 'take_profit1': 91831.93, 'take_profit2': 93632.55, 'reason': 'RSI > 50, MACD > 0, 볼린저 밴드 중앙 이상, 상승 추세'}
2025-02-17 13:30:26,198 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 789ms
2025-02-17 13:30:26,437 - order_service - INFO - 주문 실행 시도: {'category': 'linear', 'symbol': 'BTCUSDT', 'side': 'Buy', 'orderType': 'Limit', 'qty': '0.001', 'price': '90031.3', 'timeInForce': 'GTC', 'positionIdx': 0, 'reduceOnly': False, 'stopLoss': '88230.7', 'takeProfit': '91831.93'}
2025-02-17 13:30:26,628 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 13:30:26,629 - order_service - INFO - 요청 파라미터:
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Buy",
  "orderType": "Limit",
  "qty": "0.001",
  "price": "90031.3",
  "timeInForce": "GTC",
  "positionIdx": 0,
  "reduceOnly": false,
  "stopLoss": "88230.7",
  "takeProfit": "91831.93"
}
2025-02-17 13:30:26,637 - order_service - INFO - API 응답:
{
  "retCode": 0,
  "retMsg": "OK",
  "result": {
    "orderId": "ff21481d-67b4-479d-ae90-04cdea00c157",
    "orderLinkId": ""
  },
  "retExtInfo": {},
  "time": 1739766627416
}
2025-02-17 13:30:26,641 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 13:30:26,642 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Buy",
  "leverage": 5,
  "position_size": 10,
  "entry_price": 90031.3,
  "stop_loss": 88230.7,
  "take_profit": 91831.93,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 13:30:26,657 - order_service - INFO - API 응답:
{
  "retCode": 0,
  "retMsg": "OK",
  "result": {
    "orderId": "ff21481d-67b4-479d-ae90-04cdea00c157",
    "orderLinkId": ""
  },
  "retExtInfo": {},
  "time": 1739766627416
}
2025-02-17 13:30:26,660 - order_service - INFO - 매매 신호 실행 성공: {'symbol': 'BTCUSDT', 'side': 'Buy', 'leverage': 5, 'position_size': 10, 'entry_price': 90031.3, 'stop_loss': 88230.7, 'take_profit': 91831.93, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 13:35:19,598 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 13:35:19,599 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 13:35:19,604 - main - INFO - 서비스 초기화 중...
2025-02-17 13:35:19,605 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 13:35:21,562 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 13:35:22,147 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 13:35:22,148 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 13:35:22,148 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 13:35:22,970 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:35:22,971 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 13:35:22,972 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 13:35:23,787 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:35:23,787 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 13:35:23,788 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 13:35:23,788 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 13:35:23,788 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 13:35:24,849 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 13:35:24,849 - telegram.ext.Application - INFO - Application started
2025-02-17 13:35:25,096 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 13:36:22,025 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 13:36:22,026 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 13:36:22,552 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 13:36:22,553 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 88444.1, 'bid': 88410.1, 'ask': 88439.6, 'volume': 281391.103, 'timestamp': None}
2025-02-17 13:36:22,555 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 13:36:22,555 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 13:36:24,547 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 13:36:25,954 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: HOLD
2025-02-17 13:36:25,955 - telegram_bot.monitors.auto_analyzer - INFO - 관망 신호, 자동 매매 실행하지 않음
2025-02-17 13:37:09,631 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 13:37:09,633 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 13:37:10,028 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 13:37:10,029 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 88197.8, 'bid': 88027.8, 'ask': 88182.6, 'volume': 281391.119, 'timestamp': None}
2025-02-17 13:37:10,037 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 13:37:10,037 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 13:37:12,071 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 13:37:13,606 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: HOLD
2025-02-17 13:37:13,607 - telegram_bot.monitors.auto_analyzer - INFO - 관망 신호, 자동 매매 실행하지 않음
2025-02-17 13:38:19,966 - trading_handler - INFO - [Balance] 잔고 조회 시작 (chat_id: 583881676)
2025-02-17 13:38:20,446 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 792ms
2025-02-17 13:40:02,960 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 13:40:02,964 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 13:40:02,965 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 13:40:02,967 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 13:40:02,968 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 13:40:02,971 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 13:40:02,975 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 13:40:02,978 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 13:40:02,979 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 13:40:02,981 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 13:40:02,984 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 13:40:02,986 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 13:40:02,988 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 13:40:02,989 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 13:40:02,990 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 13:40:02,992 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 13:40:02,994 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 13:40:02,995 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 13:40:02,995 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 13:40:02,998 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 13:40:03,000 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 13:40:03,002 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 13:40:03,003 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 13:40:03,005 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 13:40:03,006 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 13:40:03,008 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 13:40:03,009 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 13:40:03,010 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 13:40:03,011 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 13:40:03,013 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 13:40:03,015 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 13:40:03,016 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 13:40:03,018 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 13:40:03,019 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 13:40:03,020 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 13:40:03,021 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 13:40:03,022 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 13:40:03,023 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 13:40:03,024 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 13:40:03,026 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 13:40:03,027 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 13:40:03,027 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 13:40:03,028 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 13:40:03,029 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 13:40:03,030 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 13:40:03,031 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 13:40:03,032 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 13:40:03,032 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 13:40:03,033 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 13:40:03,033 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 13:40:03,033 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 13:40:03,034 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 13:40:03,034 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 13:40:03,034 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 13:40:03,035 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 13:40:03,035 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 13:40:03,036 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 13:40:03,036 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 13:40:03,036 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 13:40:03,037 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 13:40:03,037 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 13:40:03,038 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 13:40:03,038 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 13:40:03,039 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 13:40:03,040 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 13:40:03,040 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 13:40:03,041 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 13:40:03,042 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 13:40:03,042 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 13:40:03,043 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 13:40:03,043 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 13:40:03,044 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 13:40:03,044 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 13:40:03,045 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 13:40:03,045 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 13:40:03,046 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 13:40:03,047 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 13:40:03,048 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 13:40:03,048 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 13:40:03,049 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 13:40:03,049 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 13:40:03,049 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 13:40:03,050 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 13:40:03,050 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 13:40:03,051 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 13:40:03,051 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 13:40:03,052 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 13:40:03,052 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 13:40:03,053 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 13:40:03,053 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 13:40:03,054 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 13:40:03,055 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 13:40:03,055 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 13:40:03,055 - telegram_bot.handlers.stats_handler - INFO - === 포지션 분석 시작 ===
2025-02-17 13:40:03,056 - telegram_bot.handlers.stats_handler - INFO - 원본 데이터 수: 157
2025-02-17 13:40:03,056 - telegram_bot.handlers.stats_handler - INFO - 롱 포지션: 143
2025-02-17 13:40:03,056 - telegram_bot.handlers.stats_handler - INFO - 숏 포지션: 14
2025-02-17 13:40:03,056 - telegram_bot.handlers.stats_handler - INFO - === 포지션 샘플 ===
2025-02-17 13:40:03,057 - telegram_bot.handlers.stats_handler - INFO - ID: f84275b4-8ab8-4bdc-87d8-d7b3a6b275f0
2025-02-17 13:40:03,057 - telegram_bot.handlers.stats_handler - INFO - Side: Sell
2025-02-17 13:40:03,057 - telegram_bot.handlers.stats_handler - INFO - Entry: 93760.0
2025-02-17 13:40:03,058 - telegram_bot.handlers.stats_handler - INFO - Exit: 97193.9
2025-02-17 13:40:03,058 - telegram_bot.handlers.stats_handler - INFO - PNL: 3.3789011
2025-02-17 13:40:03,058 - telegram_bot.handlers.stats_handler - INFO - 계산된 방향: 롱
2025-02-17 13:40:03,058 - telegram_bot.handlers.stats_handler - INFO - ==================
2025-02-17 13:40:34,266 - trading_handler - INFO - [Status] 상태 조회 시작 (chat_id: 583881676)
2025-02-17 13:40:34,470 - trading_handler - ERROR - [Status] 상태 조회 중 오류: 'bool' object is not callable
2025-02-17 13:40:54,089 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 13:40:54,090 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 13:40:54,458 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 13:40:54,459 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 87997.6, 'bid': 87000.0, 'ask': 87020.4, 'volume': 300271.425, 'timestamp': None}
2025-02-17 13:40:54,462 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 13:40:54,462 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 13:40:56,208 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 13:40:57,623 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: HOLD
2025-02-17 13:40:57,624 - telegram_bot.monitors.auto_analyzer - INFO - 관망 신호, 자동 매매 실행하지 않음
2025-02-17 13:54:51,495 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 13:54:51,496 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 13:54:51,502 - main - INFO - 서비스 초기화 중...
2025-02-17 13:54:51,502 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 13:54:53,720 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 13:54:53,721 - main - ERROR - 실행 중 에러 발생: TradeHistoryService.__init__() missing 1 required positional argument: 'bybit_client'
2025-02-17 13:54:54,368 - main - ERROR - Traceback (most recent call last):
  File "C:\Users\oasis\Aibybit_2\src\main.py", line 82, in main
    telegram_bot = TelegramBot(
                   ^^^^^^^^^^^^
  File "C:\Users\oasis\Aibybit_2\src\telegram_bot\bot.py", line 69, in __init__
    self.trade_history_service = TradeHistoryService(bybit_client)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TradeHistoryService.__init__() missing 1 required positional argument: 'bybit_client'

2025-02-17 13:58:07,823 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 13:58:07,827 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 13:58:07,833 - main - INFO - 서비스 초기화 중...
2025-02-17 13:58:07,834 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 13:58:09,837 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 13:58:10,512 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 13:58:10,513 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 13:58:10,513 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 13:58:11,225 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:58:11,225 - main - ERROR - 실행 중 에러 발생: TradingHandler.__init__() takes 5 positional arguments but 6 were given
2025-02-17 13:58:11,226 - main - ERROR - Traceback (most recent call last):
  File "C:\Users\oasis\Aibybit_2\src\main.py", line 82, in main
    telegram_bot = TelegramBot(
                   ^^^^^^^^^^^^
  File "C:\Users\oasis\Aibybit_2\src\telegram_bot\bot.py", line 125, in __init__
    self.trading_handler = TradingHandler(
                           ^^^^^^^^^^^^^^^
TypeError: TradingHandler.__init__() takes 5 positional arguments but 6 were given

2025-02-17 13:59:22,535 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 13:59:22,536 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 13:59:22,541 - main - INFO - 서비스 초기화 중...
2025-02-17 13:59:22,541 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 13:59:24,589 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 13:59:24,988 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 13:59:24,988 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 13:59:24,988 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 13:59:25,682 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:59:25,683 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 13:59:25,684 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 13:59:26,364 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 13:59:26,364 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 13:59:26,365 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 13:59:26,365 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 13:59:26,365 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 13:59:27,379 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 13:59:27,380 - telegram.ext.Application - INFO - Application started
2025-02-17 13:59:27,630 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 13:59:46,153 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 13:59:46,154 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 13:59:46,612 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 13:59:46,612 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 82886.4, 'bid': 82835.2, 'ask': 82886.4, 'volume': 327310.621, 'timestamp': None}
2025-02-17 13:59:46,619 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 13:59:46,620 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 13:59:50,867 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 13:59:52,387 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: HOLD
2025-02-17 13:59:52,388 - telegram_bot.monitors.auto_analyzer - INFO - 관망 신호, 자동 매매 실행하지 않음
2025-02-17 14:00:01,231 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 14:00:01,232 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 14:00:01,233 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 14:00:01,234 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 14:00:01,234 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 14:00:01,235 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 14:00:01,236 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 14:00:01,238 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 14:00:01,239 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 14:00:01,239 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 14:00:01,240 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 14:00:01,241 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 14:00:01,242 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 14:00:01,242 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 14:00:01,243 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 14:00:01,245 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 14:00:01,247 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 14:00:01,248 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 14:00:01,248 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 14:00:01,250 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 14:00:01,251 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 14:00:01,252 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 14:00:01,254 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 14:00:01,255 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 14:00:01,256 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 14:00:01,258 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 14:00:01,259 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 14:00:01,260 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 14:00:01,261 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 14:00:01,262 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 14:00:01,263 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 14:00:01,264 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 14:00:01,266 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 14:00:01,268 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 14:00:01,270 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 14:00:01,271 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 14:00:01,273 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 14:00:01,275 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 14:00:01,276 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 14:00:01,277 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 14:00:01,279 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 14:00:01,280 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 14:00:01,281 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 14:00:01,283 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 14:00:01,284 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 14:00:01,284 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 14:00:01,285 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 14:00:01,291 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 14:00:01,291 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 14:00:01,292 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 14:00:01,292 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 14:00:01,293 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 14:00:01,293 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 14:00:01,294 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 14:00:01,294 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 14:00:01,294 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 14:00:01,295 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 14:00:01,296 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 14:00:01,296 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 14:00:01,297 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 14:00:01,298 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 14:00:01,298 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 14:00:01,299 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 14:00:01,299 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 14:00:01,300 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 14:00:01,300 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 14:00:01,301 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 14:00:01,301 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 14:00:01,302 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 14:00:01,302 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 14:00:01,303 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 14:00:01,303 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 14:00:01,304 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 14:00:01,304 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 14:00:01,304 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 14:00:01,305 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 14:00:01,307 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 14:00:01,308 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 14:00:01,308 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 14:00:01,309 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 14:00:01,309 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 14:00:01,310 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 14:00:01,310 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 14:00:01,311 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 14:00:01,311 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 14:00:01,312 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 14:00:01,312 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 14:00:01,314 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 14:00:01,314 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 14:00:01,316 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 14:00:01,317 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 14:00:01,317 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 14:00:01,317 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 14:00:01,318 - telegram_bot.handlers.stats_handler - INFO - === 포지션 분석 시작 ===
2025-02-17 14:00:01,318 - telegram_bot.handlers.stats_handler - INFO - 원본 데이터 수: 157
2025-02-17 14:00:01,318 - telegram_bot.handlers.stats_handler - INFO - 롱 포지션: 143
2025-02-17 14:00:01,319 - telegram_bot.handlers.stats_handler - INFO - 숏 포지션: 14
2025-02-17 14:00:01,319 - telegram_bot.handlers.stats_handler - INFO - === 포지션 샘플 ===
2025-02-17 14:00:01,319 - telegram_bot.handlers.stats_handler - INFO - ID: f84275b4-8ab8-4bdc-87d8-d7b3a6b275f0
2025-02-17 14:00:01,321 - telegram_bot.handlers.stats_handler - INFO - Side: Sell
2025-02-17 14:00:01,321 - telegram_bot.handlers.stats_handler - INFO - Entry: 93760.0
2025-02-17 14:00:01,321 - telegram_bot.handlers.stats_handler - INFO - Exit: 97193.9
2025-02-17 14:00:01,321 - telegram_bot.handlers.stats_handler - INFO - PNL: 3.3789011
2025-02-17 14:00:01,322 - telegram_bot.handlers.stats_handler - INFO - 계산된 방향: 롱
2025-02-17 14:00:01,322 - telegram_bot.handlers.stats_handler - INFO - ==================
2025-02-17 14:09:42,000 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 14:09:42,002 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 14:09:42,008 - main - INFO - 서비스 초기화 중...
2025-02-17 14:09:42,009 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 14:09:43,881 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 14:09:44,338 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 14:09:44,339 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 14:09:44,339 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 14:09:45,008 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 14:09:45,009 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 14:09:45,009 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 14:09:45,676 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 14:09:45,677 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 14:09:45,677 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 14:09:45,677 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 14:09:45,678 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 14:09:46,719 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 14:09:46,720 - telegram.ext.Application - INFO - Application started
2025-02-17 14:09:46,966 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 14:09:53,980 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 14:09:53,982 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 14:09:53,984 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 14:09:53,985 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 14:09:53,986 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 14:09:53,989 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 14:09:53,996 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 14:09:54,001 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 14:09:54,003 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 14:09:54,005 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 14:09:54,007 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 14:09:54,008 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 14:09:54,010 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 14:09:54,012 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 14:09:54,014 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 14:09:54,019 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 14:09:54,020 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 14:09:54,021 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 14:09:54,023 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 14:09:54,025 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 14:09:54,028 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 14:09:54,030 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 14:09:54,032 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 14:09:54,034 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 14:09:54,035 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 14:09:54,037 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 14:09:54,038 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 14:09:54,039 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 14:09:54,039 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 14:09:54,041 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 14:09:54,043 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 14:09:54,044 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 14:09:54,046 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 14:09:54,048 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 14:09:54,050 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 14:09:54,052 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 14:09:54,055 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 14:09:54,056 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 14:09:54,058 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 14:09:54,060 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 14:09:54,064 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 14:09:54,065 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 14:09:54,069 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 14:09:54,071 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 14:09:54,071 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 14:09:54,072 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 14:09:54,072 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 14:09:54,073 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 14:09:54,074 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 14:09:54,074 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 14:09:54,074 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 14:09:54,075 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 14:09:54,075 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 14:09:54,075 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 14:09:54,075 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 14:09:54,076 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 14:09:54,076 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 14:09:54,077 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 14:09:54,077 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 14:09:54,077 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 14:09:54,077 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 14:09:54,078 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 14:09:54,079 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 14:09:54,079 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 14:09:54,079 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 14:09:54,080 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 14:09:54,080 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 14:09:54,081 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 14:09:54,081 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 14:09:54,081 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 14:09:54,082 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 14:09:54,082 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 14:09:54,082 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 14:09:54,083 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 14:09:54,083 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 14:09:54,083 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 14:09:54,084 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 14:09:54,086 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 14:09:54,086 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 14:09:54,086 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 14:09:54,087 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 14:09:54,087 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 14:09:54,087 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 14:09:54,088 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 14:09:54,088 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 14:09:54,088 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 14:09:54,089 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 14:09:54,089 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 14:09:54,089 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 14:09:54,090 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 14:09:54,090 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 14:09:54,091 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 14:09:54,091 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 14:09:54,091 - telegram_bot.handlers.stats_handler - INFO - === 포지션 분석 시작 ===
2025-02-17 14:09:54,092 - telegram_bot.handlers.stats_handler - INFO - 원본 데이터 수: 157
2025-02-17 14:09:54,092 - telegram_bot.handlers.stats_handler - INFO - 롱 포지션: 143
2025-02-17 14:09:54,092 - telegram_bot.handlers.stats_handler - INFO - 숏 포지션: 14
2025-02-17 14:09:54,092 - telegram_bot.handlers.stats_handler - INFO - === 포지션 샘플 ===
2025-02-17 14:09:54,092 - telegram_bot.handlers.stats_handler - INFO - ID: f84275b4-8ab8-4bdc-87d8-d7b3a6b275f0
2025-02-17 14:09:54,093 - telegram_bot.handlers.stats_handler - INFO - Side: Sell
2025-02-17 14:09:54,093 - telegram_bot.handlers.stats_handler - INFO - Entry: 93760.0
2025-02-17 14:09:54,093 - telegram_bot.handlers.stats_handler - INFO - Exit: 97193.9
2025-02-17 14:09:54,093 - telegram_bot.handlers.stats_handler - INFO - PNL: 3.3789011
2025-02-17 14:09:54,093 - telegram_bot.handlers.stats_handler - INFO - 계산된 방향: 롱
2025-02-17 14:09:54,094 - telegram_bot.handlers.stats_handler - INFO - ==================
2025-02-17 14:21:16,807 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 14:21:16,809 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 14:21:16,817 - main - INFO - 서비스 초기화 중...
2025-02-17 14:21:16,818 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 14:21:18,948 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 14:21:19,362 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 14:21:19,362 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 14:21:19,362 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 14:21:20,041 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 14:21:20,041 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 14:21:20,042 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 14:21:20,707 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 14:21:20,708 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 14:21:20,708 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 14:21:20,709 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 14:21:20,709 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 14:21:21,745 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 14:21:21,746 - telegram.ext.Application - INFO - Application started
2025-02-17 14:21:22,038 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 14:22:12,291 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 14:22:12,292 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 14:22:12,293 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 14:22:12,293 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 14:22:12,293 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 14:22:12,294 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 14:22:12,295 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 14:22:12,296 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 14:22:12,296 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 14:22:12,297 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 14:22:12,297 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 14:22:12,297 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 14:22:12,298 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 14:22:12,298 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 14:22:12,298 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 14:22:12,299 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 14:22:12,300 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 14:22:12,300 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 14:22:12,301 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 14:22:12,302 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 14:22:12,303 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 14:22:12,304 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 14:22:12,305 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 14:22:12,305 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 14:22:12,306 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 14:22:12,307 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 14:22:12,308 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 14:22:12,309 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 14:22:12,309 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 14:22:12,311 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 14:22:12,312 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 14:22:12,313 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 14:22:12,314 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 14:22:12,315 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 14:22:12,316 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 14:22:12,317 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 14:22:12,318 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 14:22:12,319 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 14:22:12,320 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 14:22:12,321 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 14:22:12,322 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 14:22:12,323 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 14:22:12,324 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 14:22:12,324 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 14:22:12,325 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 14:22:12,325 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 14:22:12,325 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 14:22:12,326 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 14:22:12,326 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 14:22:12,326 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 14:22:12,326 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 14:22:12,327 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 14:22:12,327 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 14:22:12,329 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 14:22:12,329 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 14:22:12,330 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 14:22:12,330 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 14:22:12,330 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 14:22:12,330 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 14:22:12,331 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 14:22:12,331 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 14:22:12,331 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 14:22:12,331 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 14:22:12,331 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 14:22:12,332 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 14:22:12,332 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 14:22:12,332 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 14:22:12,332 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 14:22:12,333 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 14:22:12,333 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 14:22:12,333 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 14:22:12,333 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 14:22:12,334 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 14:22:12,334 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 14:22:12,334 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 14:22:12,334 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 14:22:12,335 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 14:22:12,335 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 14:22:12,335 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 14:22:12,335 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 14:22:12,336 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 14:22:12,337 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 14:22:12,338 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 14:22:12,338 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 14:22:12,338 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 14:22:12,339 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 14:22:12,339 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 14:22:12,339 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 14:22:12,340 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 14:22:12,340 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 14:22:12,341 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 14:22:12,341 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 14:22:12,341 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 14:22:12,342 - telegram_bot.handlers.stats_handler - INFO - === 포지션 분석 시작 ===
2025-02-17 14:22:12,342 - telegram_bot.handlers.stats_handler - INFO - 원본 데이터 수: 157
2025-02-17 14:22:12,342 - telegram_bot.handlers.stats_handler - INFO - 롱 포지션: 143
2025-02-17 14:22:12,342 - telegram_bot.handlers.stats_handler - INFO - 숏 포지션: 14
2025-02-17 14:22:12,342 - telegram_bot.handlers.stats_handler - INFO - === 포지션 샘플 ===
2025-02-17 14:22:12,343 - telegram_bot.handlers.stats_handler - INFO - ID: f84275b4-8ab8-4bdc-87d8-d7b3a6b275f0
2025-02-17 14:22:12,343 - telegram_bot.handlers.stats_handler - INFO - Side: Sell
2025-02-17 14:22:12,343 - telegram_bot.handlers.stats_handler - INFO - Entry: 93760.0
2025-02-17 14:22:12,343 - telegram_bot.handlers.stats_handler - INFO - Exit: 97193.9
2025-02-17 14:22:12,343 - telegram_bot.handlers.stats_handler - INFO - PNL: 3.3789011
2025-02-17 14:22:12,343 - telegram_bot.handlers.stats_handler - INFO - 계산된 방향: 롱
2025-02-17 14:22:12,344 - telegram_bot.handlers.stats_handler - INFO - ==================
2025-02-17 14:22:23,349 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 14:22:23,350 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 14:22:23,755 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 14:22:23,755 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 75922.2, 'bid': 75776.2, 'ask': 76000.0, 'volume': 327339.215, 'timestamp': None}
2025-02-17 14:22:23,759 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 14:22:23,759 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 14:22:26,045 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 14:22:27,561 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: SELL
2025-02-17 14:22:27,562 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: SELL
2025-02-17 14:22:27,562 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'SELL', 'leverage': 5, 'position_size': 10, 'entry_price': 75922.2, 'stop_loss': 74403.8, 'take_profit1': 77440.64, 'take_profit2': 78959.09, 'reason': '하락 추세, RSI < 50, MACD < 0, 볼린저밴드 LOWER_BREAK'}
2025-02-17 14:22:27,832 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 813ms
2025-02-17 14:22:28,180 - order_service - INFO - 주문 실행 시도: {'category': 'linear', 'symbol': 'BTCUSDT', 'side': 'Sell', 'orderType': 'Limit', 'qty': '0.001', 'price': '75922.2', 'timeInForce': 'GTC', 'positionIdx': 0, 'reduceOnly': False, 'stopLoss': '74403.8', 'takeProfit': '77440.64'}
2025-02-17 14:22:28,341 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 14:22:28,341 - order_service - INFO - 요청 파라미터:
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Sell",
  "orderType": "Limit",
  "qty": "0.001",
  "price": "75922.2",
  "timeInForce": "GTC",
  "positionIdx": 0,
  "reduceOnly": false,
  "stopLoss": "74403.8",
  "takeProfit": "77440.64"
}
2025-02-17 14:22:28,343 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:774406000 set for Sell position should be lower than base_price:759222000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739769749154
}
2025-02-17 14:22:28,343 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 14:22:28,343 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Sell",
  "leverage": 5,
  "position_size": 10,
  "entry_price": 75922.2,
  "stop_loss": 74403.8,
  "take_profit": 77440.64,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 14:22:28,345 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:774406000 set for Sell position should be lower than base_price:759222000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739769749154
}
2025-02-17 14:22:28,345 - order_service - ERROR - 매매 신호 실행 실패:
2025-02-17 14:22:28,346 - order_service - ERROR - - 파라미터: {'symbol': 'BTCUSDT', 'side': 'Sell', 'leverage': 5, 'position_size': 10, 'entry_price': 75922.2, 'stop_loss': 74403.8, 'take_profit': 77440.64, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 14:22:28,347 - order_service - ERROR - - 응답: {'retCode': 10001, 'retMsg': 'TakeProfit:774406000 set for Sell position should be lower than base_price:759222000??LastPrice', 'result': {}, 'retExtInfo': {}, 'time': 1739769749154}
2025-02-17 14:22:28,347 - order_service - ERROR - - 에러 코드: 10001
2025-02-17 14:22:28,347 - order_service - ERROR - - 에러 메시지: TakeProfit:774406000 set for Sell position should be lower than base_price:759222000??LastPrice
2025-02-17 14:35:43,021 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 14:35:43,022 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 14:35:43,028 - main - INFO - 서비스 초기화 중...
2025-02-17 14:35:43,028 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 14:35:45,023 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 14:35:46,597 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 14:35:46,598 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 14:35:46,598 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 14:35:47,289 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 14:35:47,290 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 14:35:47,290 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 14:35:47,980 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 14:35:47,981 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 14:35:47,982 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 14:35:47,982 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 14:35:47,982 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 14:35:47,989 - services.trade_history_service - INFO - === 포지션 정보 초기화 시작 ===
2025-02-17 14:35:47,989 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 14:35:47,990 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 14:35:47,990 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 14:35:47,990 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 14:35:47,991 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 14:35:47,991 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 14:35:47,992 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 14:35:47,992 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 14:35:47,993 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 14:35:47,993 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 14:35:47,993 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 14:35:47,994 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 14:35:47,994 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 14:35:47,994 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 14:35:47,995 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 14:35:47,996 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 14:35:47,996 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 14:35:47,997 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 14:35:47,997 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 14:35:47,997 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 14:35:47,998 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 14:35:47,998 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 14:35:47,999 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 14:35:48,000 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 14:35:48,001 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 14:35:48,001 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 14:35:48,002 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 14:35:48,002 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 14:35:48,003 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 14:35:48,003 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 14:35:48,004 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 14:35:48,004 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 14:35:48,005 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 14:35:48,005 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 14:35:48,005 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 14:35:48,007 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 14:35:48,008 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 14:35:48,009 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 14:35:48,010 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 14:35:48,010 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 14:35:48,013 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 14:35:48,013 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 14:35:48,014 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 14:35:48,015 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 14:35:48,016 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 14:35:48,016 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 14:35:48,016 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 14:35:48,016 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 14:35:48,017 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 14:35:48,017 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 14:35:48,017 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 14:35:48,017 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 14:35:48,018 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 14:35:48,018 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 14:35:48,018 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 14:35:48,018 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 14:35:48,018 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 14:35:48,019 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 14:35:48,019 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 14:35:48,019 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 14:35:48,019 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 14:35:48,021 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 14:35:48,021 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 14:35:48,021 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 14:35:48,021 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 14:35:48,022 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 14:35:48,022 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 14:35:48,023 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 14:35:48,023 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 14:35:48,023 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 14:35:48,024 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 14:35:48,024 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 14:35:48,025 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 14:35:48,025 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 14:35:48,025 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 14:35:48,025 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 14:35:48,025 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 14:35:48,029 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 14:35:48,030 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 14:35:48,031 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 14:35:48,032 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 14:35:48,032 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 14:35:48,032 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 14:35:48,033 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 14:35:48,033 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 14:35:48,033 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 14:35:48,034 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 14:35:48,034 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 14:35:48,034 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 14:35:48,034 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 14:35:48,035 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 14:35:48,035 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 14:35:48,035 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 14:35:48,035 - services.trade_history_service - ERROR - 포지션 정보 초기화 실패: 'BybitClient' object has no attribute 'get_closed_positions'
2025-02-17 14:35:48,037 - services.trade_history_service - ERROR - Traceback (most recent call last):
  File "C:\Users\oasis\Aibybit_2\src\services\trade_history_service.py", line 48, in initialize
    new_positions = await self.bybit_client.get_closed_positions(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BybitClient' object has no attribute 'get_closed_positions'

2025-02-17 14:35:49,053 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 14:35:49,054 - telegram.ext.Application - INFO - Application started
2025-02-17 14:35:49,303 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 14:39:02,473 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 14:39:02,479 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 14:39:03,038 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 14:39:03,040 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 71153.8, 'bid': 71028.4, 'ask': 71144.3, 'volume': 327379.647, 'timestamp': None}
2025-02-17 14:39:03,051 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 14:39:03,052 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 14:39:05,911 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 14:39:07,335 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: SELL
2025-02-17 14:39:07,336 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: SELL
2025-02-17 14:39:07,336 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'SELL', 'leverage': 10, 'position_size': 10, 'entry_price': 71153.8, 'stop_loss': 69730.7, 'take_profit1': 72576.88, 'take_profit2': 73999.95, 'reason': '하락 추세, RSI < 50, MACD < 0, 볼린저밴드 LOWER_BREAK'}
2025-02-17 14:39:07,485 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 821ms
2025-02-17 14:39:07,907 - order_service - INFO - 주문 실행 시도: {'category': 'linear', 'symbol': 'BTCUSDT', 'side': 'Sell', 'orderType': 'Limit', 'qty': '0.001', 'price': '71153.8', 'timeInForce': 'GTC', 'positionIdx': 0, 'reduceOnly': False, 'stopLoss': '69730.7', 'takeProfit': '72576.88'}
2025-02-17 14:39:08,079 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 14:39:08,080 - order_service - INFO - 요청 파라미터:
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Sell",
  "orderType": "Limit",
  "qty": "0.001",
  "price": "71153.8",
  "timeInForce": "GTC",
  "positionIdx": 0,
  "reduceOnly": false,
  "stopLoss": "69730.7",
  "takeProfit": "72576.88"
}
2025-02-17 14:39:08,081 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:725768000 set for Sell position should be lower than base_price:711538000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739770748899
}
2025-02-17 14:39:08,082 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 14:39:08,082 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Sell",
  "leverage": 10,
  "position_size": 10,
  "entry_price": 71153.8,
  "stop_loss": 69730.7,
  "take_profit": 72576.88,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 14:39:08,084 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:725768000 set for Sell position should be lower than base_price:711538000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739770748899
}
2025-02-17 14:39:08,085 - order_service - ERROR - 매매 신호 실행 실패:
2025-02-17 14:39:08,085 - order_service - ERROR - - 파라미터: {'symbol': 'BTCUSDT', 'side': 'Sell', 'leverage': 10, 'position_size': 10, 'entry_price': 71153.8, 'stop_loss': 69730.7, 'take_profit': 72576.88, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 14:39:08,087 - order_service - ERROR - - 응답: {'retCode': 10001, 'retMsg': 'TakeProfit:725768000 set for Sell position should be lower than base_price:711538000??LastPrice', 'result': {}, 'retExtInfo': {}, 'time': 1739770748899}
2025-02-17 14:39:08,089 - order_service - ERROR - - 에러 코드: 10001
2025-02-17 14:39:08,089 - order_service - ERROR - - 에러 메시지: TakeProfit:725768000 set for Sell position should be lower than base_price:711538000??LastPrice
2025-02-17 14:59:43,070 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 14:59:43,074 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 14:59:43,085 - main - INFO - 서비스 초기화 중...
2025-02-17 14:59:43,085 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 14:59:45,920 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 14:59:47,506 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 14:59:47,507 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 14:59:47,507 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 14:59:49,243 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 14:59:49,249 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 14:59:49,265 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 14:59:50,116 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 14:59:50,117 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 14:59:50,124 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 14:59:50,125 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 14:59:50,125 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 14:59:50,135 - services.trade_history_service - INFO - === 포지션 정보 초기화 시작 ===
2025-02-17 14:59:50,136 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 14:59:50,137 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 14:59:50,137 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 14:59:50,138 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 14:59:50,144 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 14:59:50,146 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 14:59:50,147 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 14:59:50,149 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 14:59:50,151 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 14:59:50,152 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 14:59:50,152 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 14:59:50,153 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 14:59:50,154 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 14:59:50,154 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 14:59:50,156 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 14:59:50,157 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 14:59:50,158 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 14:59:50,159 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 14:59:50,159 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 14:59:50,161 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 14:59:50,163 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 14:59:50,166 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 14:59:50,168 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 14:59:50,170 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 14:59:50,172 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 14:59:50,178 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 14:59:50,183 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 14:59:50,184 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 14:59:50,185 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 14:59:50,188 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 14:59:50,189 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 14:59:50,190 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 14:59:50,194 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 14:59:50,196 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 14:59:50,199 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 14:59:50,201 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 14:59:50,203 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 14:59:50,205 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 14:59:50,207 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 14:59:50,208 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 14:59:50,209 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 14:59:50,210 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 14:59:50,211 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 14:59:50,214 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 14:59:50,219 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 14:59:50,221 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 14:59:50,222 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 14:59:50,222 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 14:59:50,223 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 14:59:50,223 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 14:59:50,223 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 14:59:50,224 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 14:59:50,224 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 14:59:50,225 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 14:59:50,225 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 14:59:50,225 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 14:59:50,226 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 14:59:50,226 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 14:59:50,226 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 14:59:50,226 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 14:59:50,227 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 14:59:50,227 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 14:59:50,227 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 14:59:50,228 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 14:59:50,229 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 14:59:50,229 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 14:59:50,230 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 14:59:50,230 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 14:59:50,230 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 14:59:50,230 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 14:59:50,231 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 14:59:50,231 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 14:59:50,255 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 14:59:50,255 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 14:59:50,256 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 14:59:50,256 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 14:59:50,257 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 14:59:50,257 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 14:59:50,258 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 14:59:50,259 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 14:59:50,259 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 14:59:50,259 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 14:59:50,259 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 14:59:50,260 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 14:59:50,260 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 14:59:50,260 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 14:59:50,262 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 14:59:50,263 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 14:59:50,265 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 14:59:50,266 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 14:59:50,267 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 14:59:50,267 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 14:59:50,275 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 14:59:50,423 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 832ms
2025-02-17 14:59:50,624 - services.trade_history_service - INFO - 새로운 포지션 데이터 발견: 1건
2025-02-17 14:59:50,625 - services.trade_history_service - ERROR - 포지션 정보 초기화 실패: 'TradeStore' object has no attribute 'save_position'
2025-02-17 14:59:50,633 - services.trade_history_service - ERROR - Traceback (most recent call last):
  File "C:\Users\oasis\Aibybit_2\src\services\trade_history_service.py", line 54, in initialize
    self.trade_store.save_position(position)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'TradeStore' object has no attribute 'save_position'. Did you mean: '_save_position'?

2025-02-17 14:59:51,289 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 14:59:51,289 - telegram.ext.Application - INFO - Application started
2025-02-17 14:59:51,537 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 15:00:48,197 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 15:00:48,198 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 15:00:48,785 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 15:00:48,787 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 65364.6, 'bid': 65364.6, 'ask': 65372.2, 'volume': 327433.026, 'timestamp': None}
2025-02-17 15:00:48,794 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 15:00:48,795 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 15:00:54,468 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 15:00:55,879 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: SELL
2025-02-17 15:00:55,879 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: SELL
2025-02-17 15:00:55,880 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'SELL', 'leverage': 10, 'position_size': 10, 'entry_price': 65364.6, 'stop_loss': 64057.3, 'take_profit1': 66671.89, 'take_profit2': 67979.18, 'reason': '하락 추세, RSI < 50, MACD < 0, 볼린저밴드 LOWER_BREAK'}
2025-02-17 15:00:56,392 - order_service - INFO - 주문 실행 시도: {'category': 'linear', 'symbol': 'BTCUSDT', 'side': 'Sell', 'orderType': 'Limit', 'qty': '0.001', 'price': '65364.6', 'timeInForce': 'GTC', 'positionIdx': 0, 'reduceOnly': False, 'stopLoss': '64057.3', 'takeProfit': '66671.89'}
2025-02-17 15:00:56,560 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 15:00:56,561 - order_service - INFO - 요청 파라미터:
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Sell",
  "orderType": "Limit",
  "qty": "0.001",
  "price": "65364.6",
  "timeInForce": "GTC",
  "positionIdx": 0,
  "reduceOnly": false,
  "stopLoss": "64057.3",
  "takeProfit": "66671.89"
}
2025-02-17 15:00:56,562 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:666718000 set for Sell position should be lower than base_price:653646000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739772057390
}
2025-02-17 15:00:56,562 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 15:00:56,562 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Sell",
  "leverage": 10,
  "position_size": 10,
  "entry_price": 65364.6,
  "stop_loss": 64057.3,
  "take_profit": 66671.89,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 15:00:56,563 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:666718000 set for Sell position should be lower than base_price:653646000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739772057390
}
2025-02-17 15:00:56,564 - order_service - ERROR - 매매 신호 실행 실패:
2025-02-17 15:00:56,564 - order_service - ERROR - - 파라미터: {'symbol': 'BTCUSDT', 'side': 'Sell', 'leverage': 10, 'position_size': 10, 'entry_price': 65364.6, 'stop_loss': 64057.3, 'take_profit': 66671.89, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 15:00:56,564 - order_service - ERROR - - 응답: {'retCode': 10001, 'retMsg': 'TakeProfit:666718000 set for Sell position should be lower than base_price:653646000??LastPrice', 'result': {}, 'retExtInfo': {}, 'time': 1739772057390}
2025-02-17 15:00:56,565 - order_service - ERROR - - 에러 코드: 10001
2025-02-17 15:00:56,565 - order_service - ERROR - - 에러 메시지: TakeProfit:666718000 set for Sell position should be lower than base_price:653646000??LastPrice
2025-02-17 15:12:24,244 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 15:12:24,246 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 15:12:24,253 - main - INFO - 서비스 초기화 중...
2025-02-17 15:12:24,254 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 15:12:26,494 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 15:12:27,137 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 15:12:27,138 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 15:12:27,138 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 15:12:28,457 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 15:12:28,458 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 15:12:28,459 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 15:12:29,121 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 15:12:29,122 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 15:12:29,122 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 15:12:29,122 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 15:12:29,122 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 15:12:29,132 - services.trade_history_service - INFO - === 포지션 정보 초기화 시작 ===
2025-02-17 15:12:29,133 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 15:12:29,134 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 15:12:29,134 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 15:12:29,134 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 15:12:29,135 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 15:12:29,136 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 15:12:29,137 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 15:12:29,138 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 15:12:29,139 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 15:12:29,139 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 15:12:29,140 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 15:12:29,140 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 15:12:29,140 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 15:12:29,141 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 15:12:29,142 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 15:12:29,143 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 15:12:29,145 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 15:12:29,145 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 15:12:29,145 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 15:12:29,151 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 15:12:29,152 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 15:12:29,154 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 15:12:29,156 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 15:12:29,156 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 15:12:29,158 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 15:12:29,159 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 15:12:29,160 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 15:12:29,161 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 15:12:29,161 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 15:12:29,163 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 15:12:29,164 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 15:12:29,166 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 15:12:29,168 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 15:12:29,172 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 15:12:29,174 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 15:12:29,177 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 15:12:29,178 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 15:12:29,181 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 15:12:29,183 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 15:12:29,186 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 15:12:29,187 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 15:12:29,188 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 15:12:29,189 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 15:12:29,191 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 15:12:29,191 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 15:12:29,192 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 15:12:29,192 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 15:12:29,192 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 15:12:29,193 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 15:12:29,193 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 15:12:29,193 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 15:12:29,194 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 15:12:29,194 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 15:12:29,194 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 15:12:29,195 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 15:12:29,195 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 15:12:29,195 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 15:12:29,196 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 15:12:29,196 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 15:12:29,196 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 15:12:29,197 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 15:12:29,197 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 15:12:29,197 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 15:12:29,198 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 15:12:29,198 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 15:12:29,199 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 15:12:29,200 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 15:12:29,200 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 15:12:29,200 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 15:12:29,201 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 15:12:29,201 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 15:12:29,202 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 15:12:29,206 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 15:12:29,206 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 15:12:29,207 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 15:12:29,207 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 15:12:29,208 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 15:12:29,208 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 15:12:29,208 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 15:12:29,209 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 15:12:29,209 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 15:12:29,209 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 15:12:29,209 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 15:12:29,210 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 15:12:29,210 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 15:12:29,210 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 15:12:29,211 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 15:12:29,211 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 15:12:29,211 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 15:12:29,211 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 15:12:29,212 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 15:12:29,212 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 15:12:29,212 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 15:12:30,245 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 15:12:30,245 - telegram.ext.Application - INFO - Application started
2025-02-17 15:12:30,509 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 15:13:22,690 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 15:13:22,691 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 15:13:28,073 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 15:13:28,075 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 83000.0, 'bid': 82900.0, 'ask': 83500.0, 'volume': 394454.751, 'timestamp': None}
2025-02-17 15:13:28,339 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 15:13:28,340 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 15:13:33,729 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 15:13:35,213 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: SELL
2025-02-17 15:13:35,213 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: SELL
2025-02-17 15:13:35,214 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'SELL', 'leverage': 5, 'position_size': 10, 'entry_price': 83000.0, 'stop_loss': 81340.0, 'take_profit1': 84660.0, 'take_profit2': 86320.0, 'reason': '하락 추세, RSI < 50, MACD < 0, 볼린저 밴드 중앙 이하'}
2025-02-17 15:13:35,344 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 837ms
2025-02-17 15:13:35,719 - order_service - INFO - 주문 실행 시도: {'category': 'linear', 'symbol': 'BTCUSDT', 'side': 'Sell', 'orderType': 'Limit', 'qty': '0.001', 'price': '83000.0', 'timeInForce': 'GTC', 'positionIdx': 0, 'reduceOnly': False, 'stopLoss': '81340.0', 'takeProfit': '84660.0'}
2025-02-17 15:13:35,926 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 15:13:35,926 - order_service - INFO - 요청 파라미터:
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Sell",
  "orderType": "Limit",
  "qty": "0.001",
  "price": "83000.0",
  "timeInForce": "GTC",
  "positionIdx": 0,
  "reduceOnly": false,
  "stopLoss": "81340.0",
  "takeProfit": "84660.0"
}
2025-02-17 15:13:35,928 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:846600000 set for Sell position should be lower than base_price:830000000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739772816761
}
2025-02-17 15:13:35,933 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 15:13:35,934 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Sell",
  "leverage": 5,
  "position_size": 10,
  "entry_price": 83000.0,
  "stop_loss": 81340.0,
  "take_profit": 84660.0,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 15:13:35,934 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:846600000 set for Sell position should be lower than base_price:830000000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739772816761
}
2025-02-17 15:13:35,935 - order_service - ERROR - 매매 신호 실행 실패:
2025-02-17 15:13:35,936 - order_service - ERROR - - 파라미터: {'symbol': 'BTCUSDT', 'side': 'Sell', 'leverage': 5, 'position_size': 10, 'entry_price': 83000.0, 'stop_loss': 81340.0, 'take_profit': 84660.0, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 15:13:35,936 - order_service - ERROR - - 응답: {'retCode': 10001, 'retMsg': 'TakeProfit:846600000 set for Sell position should be lower than base_price:830000000??LastPrice', 'result': {}, 'retExtInfo': {}, 'time': 1739772816761}
2025-02-17 15:13:35,936 - order_service - ERROR - - 에러 코드: 10001
2025-02-17 15:13:35,936 - order_service - ERROR - - 에러 메시지: TakeProfit:846600000 set for Sell position should be lower than base_price:830000000??LastPrice
2025-02-17 15:20:24,402 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 15:20:24,409 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 15:20:24,416 - main - INFO - 서비스 초기화 중...
2025-02-17 15:20:24,417 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 15:20:26,409 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 15:20:26,876 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 15:20:26,876 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 15:20:26,877 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 15:20:27,659 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 15:20:27,660 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 15:20:27,661 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 15:20:28,333 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 15:20:28,334 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 15:20:28,334 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 15:20:28,334 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 15:20:28,335 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 15:20:28,340 - services.trade_history_service - INFO - === 포지션 정보 초기화 시작 ===
2025-02-17 15:20:28,341 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 15:20:28,342 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 15:20:28,342 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 15:20:28,342 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 15:20:28,343 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 15:20:28,343 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 15:20:28,345 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 15:20:28,349 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 15:20:28,349 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 15:20:28,349 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 15:20:28,350 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 15:20:28,350 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 15:20:28,350 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 15:20:28,350 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 15:20:28,351 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 15:20:28,352 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 15:20:28,353 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 15:20:28,353 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 15:20:28,353 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 15:20:28,355 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 15:20:28,356 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 15:20:28,361 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 15:20:28,361 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 15:20:28,362 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 15:20:28,363 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 15:20:28,365 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 15:20:28,366 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 15:20:28,366 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 15:20:28,367 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 15:20:28,368 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 15:20:28,370 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 15:20:28,370 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 15:20:28,372 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 15:20:28,376 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 15:20:28,377 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 15:20:28,380 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 15:20:28,381 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 15:20:28,382 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 15:20:28,382 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 15:20:28,383 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 15:20:28,384 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 15:20:28,384 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 15:20:28,385 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 15:20:28,386 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 15:20:28,387 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 15:20:28,387 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 15:20:28,388 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 15:20:28,388 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 15:20:28,388 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 15:20:28,389 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 15:20:28,389 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 15:20:28,389 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 15:20:28,389 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 15:20:28,390 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 15:20:28,390 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 15:20:28,390 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 15:20:28,390 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 15:20:28,391 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 15:20:28,391 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 15:20:28,396 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 15:20:28,397 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 15:20:28,397 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 15:20:28,397 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 15:20:28,398 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 15:20:28,398 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 15:20:28,398 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 15:20:28,398 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 15:20:28,398 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 15:20:28,400 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 15:20:28,401 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 15:20:28,401 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 15:20:28,401 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 15:20:28,402 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 15:20:28,402 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 15:20:28,402 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 15:20:28,402 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 15:20:28,402 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 15:20:28,403 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 15:20:28,403 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 15:20:28,403 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 15:20:28,407 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 15:20:28,407 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 15:20:28,408 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 15:20:28,424 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 15:20:28,424 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 15:20:28,425 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 15:20:28,425 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 15:20:28,425 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 15:20:28,426 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 15:20:28,426 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 15:20:28,426 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 15:20:28,427 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 15:20:28,427 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 15:20:28,427 - services.trade_history_service - ERROR - 포지션 정보 초기화 실패: 'TradeStore' object has no attribute 'get_last_position'
2025-02-17 15:20:28,431 - services.trade_history_service - ERROR - Traceback (most recent call last):
  File "C:\Users\oasis\Aibybit_2\src\services\trade_history_service.py", line 46, in initialize
    last_position = self.trade_store.get_last_position()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'TradeStore' object has no attribute 'get_last_position'. Did you mean: 'get_daily_positions'?

2025-02-17 15:20:29,481 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 15:20:29,482 - telegram.ext.Application - INFO - Application started
2025-02-17 15:20:29,729 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 15:22:29,211 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 15:22:29,212 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 15:22:39,706 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 15:22:39,707 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 85985.5, 'bid': 85950.6, 'ask': 85985.5, 'volume': 485974.844, 'timestamp': None}
2025-02-17 15:22:39,928 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 15:22:39,928 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 15:22:45,515 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 15:22:46,990 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: SELL
2025-02-17 15:22:46,991 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: SELL
2025-02-17 15:22:46,992 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'SELL', 'leverage': 5, 'position_size': 10, 'entry_price': 85985.5, 'stop_loss': 84265.8, 'take_profit1': 87705.21, 'take_profit2': 89424.92, 'reason': '하락 추세, RSI < 50, MACD < 0, 볼린저밴드 중앙 이하'}
2025-02-17 15:22:47,129 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 842ms
2025-02-17 15:22:48,618 - order_service - INFO - 주문 실행 시도: {'category': 'linear', 'symbol': 'BTCUSDT', 'side': 'Sell', 'orderType': 'Limit', 'qty': '0.001', 'price': '85985.5', 'timeInForce': 'GTC', 'positionIdx': 0, 'reduceOnly': False, 'stopLoss': '84265.8', 'takeProfit': '87705.21'}
2025-02-17 15:22:48,786 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 15:22:48,787 - order_service - INFO - 요청 파라미터:
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Sell",
  "orderType": "Limit",
  "qty": "0.001",
  "price": "85985.5",
  "timeInForce": "GTC",
  "positionIdx": 0,
  "reduceOnly": false,
  "stopLoss": "84265.8",
  "takeProfit": "87705.21"
}
2025-02-17 15:22:48,790 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:877052000 set for Sell position should be lower than base_price:861912000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739773369627
}
2025-02-17 15:22:48,790 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 15:22:48,791 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Sell",
  "leverage": 5,
  "position_size": 10,
  "entry_price": 85985.5,
  "stop_loss": 84265.8,
  "take_profit": 87705.21,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 15:22:48,792 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:877052000 set for Sell position should be lower than base_price:861912000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739773369627
}
2025-02-17 15:22:48,793 - order_service - ERROR - 매매 신호 실행 실패:
2025-02-17 15:22:48,793 - order_service - ERROR - - 파라미터: {'symbol': 'BTCUSDT', 'side': 'Sell', 'leverage': 5, 'position_size': 10, 'entry_price': 85985.5, 'stop_loss': 84265.8, 'take_profit': 87705.21, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 15:22:48,793 - order_service - ERROR - - 응답: {'retCode': 10001, 'retMsg': 'TakeProfit:877052000 set for Sell position should be lower than base_price:861912000??LastPrice', 'result': {}, 'retExtInfo': {}, 'time': 1739773369627}
2025-02-17 15:22:48,794 - order_service - ERROR - - 에러 코드: 10001
2025-02-17 15:22:48,794 - order_service - ERROR - - 에러 메시지: TakeProfit:877052000 set for Sell position should be lower than base_price:861912000??LastPrice
2025-02-17 15:34:17,850 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 15:34:17,851 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 15:34:17,857 - main - INFO - 서비스 초기화 중...
2025-02-17 15:34:17,857 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 15:34:19,853 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 15:34:20,670 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 15:34:20,671 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 15:34:20,671 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 15:34:21,612 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 15:34:21,613 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 15:34:21,614 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 15:34:22,541 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 15:34:22,542 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 15:34:22,543 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 15:34:22,543 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 15:34:22,543 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 15:34:22,554 - services.trade_history_service - INFO - === 포지션 정보 초기화 시작 ===
2025-02-17 15:34:22,555 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 15:34:22,555 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 15:34:22,556 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 15:34:22,556 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 15:34:22,557 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 15:34:22,557 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 15:34:22,558 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 15:34:22,559 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 15:34:22,560 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 15:34:22,561 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 15:34:22,561 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 15:34:22,562 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 15:34:22,563 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 15:34:22,564 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 15:34:22,566 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 15:34:22,568 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 15:34:22,569 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 15:34:22,570 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 15:34:22,570 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 15:34:22,572 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 15:34:22,574 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 15:34:22,575 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 15:34:22,577 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 15:34:22,578 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 15:34:22,579 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 15:34:22,580 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 15:34:22,584 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 15:34:22,585 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 15:34:22,585 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 15:34:22,587 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 15:34:22,589 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 15:34:22,590 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 15:34:22,593 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 15:34:22,596 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 15:34:22,597 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 15:34:22,599 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 15:34:22,601 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 15:34:22,602 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 15:34:22,605 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 15:34:22,606 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 15:34:22,607 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 15:34:22,608 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 15:34:22,609 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 15:34:22,611 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 15:34:22,611 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 15:34:22,612 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 15:34:22,612 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 15:34:22,612 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 15:34:22,613 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 15:34:22,613 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 15:34:22,613 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 15:34:22,614 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 15:34:22,614 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 15:34:22,614 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 15:34:22,614 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 15:34:22,615 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 15:34:22,615 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 15:34:22,615 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 15:34:22,616 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 15:34:22,616 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 15:34:22,616 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 15:34:22,617 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 15:34:22,617 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 15:34:22,618 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 15:34:22,618 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 15:34:22,619 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 15:34:22,620 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 15:34:22,621 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 15:34:22,622 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 15:34:22,622 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 15:34:22,622 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 15:34:22,623 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 15:34:22,623 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 15:34:22,623 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 15:34:22,624 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 15:34:22,624 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 15:34:22,625 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 15:34:22,626 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 15:34:22,626 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 15:34:22,627 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 15:34:22,630 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 15:34:22,631 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 15:34:22,632 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 15:34:22,633 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 15:34:22,634 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 15:34:22,634 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 15:34:22,635 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 15:34:22,635 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 15:34:22,636 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 15:34:22,637 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 15:34:22,638 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 15:34:22,639 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 15:34:22,640 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 15:34:22,642 - services.trade_history_service - INFO - 마지막 업데이트 정보가 없습니다. 전체 기간 조회를 시작합니다.
2025-02-17 15:34:22,643 - services.trade_history_service - ERROR - 포지션 정보 초기화 실패: TradeHistoryService.fetch_and_update_positions() got an unexpected keyword argument 'start_timestamp'
2025-02-17 15:34:22,644 - services.trade_history_service - ERROR - Traceback (most recent call last):
  File "C:\Users\oasis\Aibybit_2\src\services\trade_history_service.py", line 61, in initialize
    await self.fetch_and_update_positions(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TradeHistoryService.fetch_and_update_positions() got an unexpected keyword argument 'start_timestamp'

2025-02-17 15:34:23,690 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 15:34:23,690 - telegram.ext.Application - INFO - Application started
2025-02-17 15:34:23,937 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 15:35:03,032 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 15:35:03,032 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 15:35:03,504 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 15:35:03,505 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 82250.8, 'bid': 82045.3, 'ask': 82238.7, 'volume': 485918.185, 'timestamp': None}
2025-02-17 15:35:03,508 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 15:35:03,508 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 15:35:05,827 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 15:35:07,258 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: SELL
2025-02-17 15:35:07,259 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: SELL
2025-02-17 15:35:07,259 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'SELL', 'leverage': 5, 'position_size': 10, 'entry_price': 82250.8, 'stop_loss': 80605.8, 'take_profit1': 83895.82, 'take_profit2': 85540.83, 'reason': '하락 추세, RSI < 50, MACD < 0, 볼린저밴드 중앙 이하'}
2025-02-17 15:35:07,401 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 846ms
2025-02-17 15:35:07,742 - order_service - INFO - 주문 실행 시도: {'category': 'linear', 'symbol': 'BTCUSDT', 'side': 'Sell', 'orderType': 'Limit', 'qty': '0.001', 'price': '82250.8', 'timeInForce': 'GTC', 'positionIdx': 0, 'reduceOnly': False, 'stopLoss': '80605.8', 'takeProfit': '83895.82'}
2025-02-17 15:35:07,920 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 15:35:07,921 - order_service - INFO - 요청 파라미터:
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Sell",
  "orderType": "Limit",
  "qty": "0.001",
  "price": "82250.8",
  "timeInForce": "GTC",
  "positionIdx": 0,
  "reduceOnly": false,
  "stopLoss": "80605.8",
  "takeProfit": "83895.82"
}
2025-02-17 15:35:07,922 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:838958000 set for Sell position should be lower than base_price:822508000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739774108767
}
2025-02-17 15:35:07,924 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 15:35:07,924 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Sell",
  "leverage": 5,
  "position_size": 10,
  "entry_price": 82250.8,
  "stop_loss": 80605.8,
  "take_profit": 83895.82,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 15:35:07,925 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:838958000 set for Sell position should be lower than base_price:822508000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739774108767
}
2025-02-17 15:35:07,925 - order_service - ERROR - 매매 신호 실행 실패:
2025-02-17 15:35:07,926 - order_service - ERROR - - 파라미터: {'symbol': 'BTCUSDT', 'side': 'Sell', 'leverage': 5, 'position_size': 10, 'entry_price': 82250.8, 'stop_loss': 80605.8, 'take_profit': 83895.82, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 15:35:07,926 - order_service - ERROR - - 응답: {'retCode': 10001, 'retMsg': 'TakeProfit:838958000 set for Sell position should be lower than base_price:822508000??LastPrice', 'result': {}, 'retExtInfo': {}, 'time': 1739774108767}
2025-02-17 15:35:07,927 - order_service - ERROR - - 에러 코드: 10001
2025-02-17 15:35:07,927 - order_service - ERROR - - 에러 메시지: TakeProfit:838958000 set for Sell position should be lower than base_price:822508000??LastPrice
2025-02-17 15:42:34,541 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 15:42:34,544 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 15:42:34,560 - main - INFO - 서비스 초기화 중...
2025-02-17 15:42:34,560 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 15:42:36,686 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 15:42:37,129 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 15:42:37,130 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 15:42:37,130 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 15:42:37,803 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 15:42:37,804 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 15:42:37,804 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 15:42:38,491 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 15:42:38,491 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 15:42:38,492 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 15:42:38,492 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 15:42:38,492 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 15:42:38,497 - services.trade_history_service - INFO - === 포지션 정보 초기화 시작 ===
2025-02-17 15:42:38,498 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 15:42:38,498 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 15:42:38,499 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 15:42:38,499 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 15:42:38,500 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 15:42:38,500 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 15:42:38,501 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 15:42:38,502 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 15:42:38,502 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 15:42:38,502 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 15:42:38,503 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 15:42:38,503 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 15:42:38,504 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 15:42:38,504 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 15:42:38,504 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 15:42:38,505 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 15:42:38,506 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 15:42:38,506 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 15:42:38,506 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 15:42:38,507 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 15:42:38,508 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 15:42:38,509 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 15:42:38,510 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 15:42:38,512 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 15:42:38,513 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 15:42:38,514 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 15:42:38,516 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 15:42:38,517 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 15:42:38,518 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 15:42:38,521 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 15:42:38,523 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 15:42:38,523 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 15:42:38,525 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 15:42:38,528 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 15:42:38,530 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 15:42:38,532 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 15:42:38,533 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 15:42:38,534 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 15:42:38,535 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 15:42:38,536 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 15:42:38,537 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 15:42:38,537 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 15:42:38,538 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 15:42:38,539 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 15:42:38,539 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 15:42:38,539 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 15:42:38,540 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 15:42:38,540 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 15:42:38,543 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 15:42:38,546 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 15:42:38,547 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 15:42:38,547 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 15:42:38,548 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 15:42:38,548 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 15:42:38,548 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 15:42:38,548 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 15:42:38,549 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 15:42:38,549 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 15:42:38,549 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 15:42:38,549 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 15:42:38,550 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 15:42:38,550 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 15:42:38,550 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 15:42:38,550 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 15:42:38,551 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 15:42:38,551 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 15:42:38,552 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 15:42:38,552 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 15:42:38,552 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 15:42:38,552 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 15:42:38,553 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 15:42:38,553 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 15:42:38,553 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 15:42:38,553 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 15:42:38,553 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 15:42:38,554 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 15:42:38,554 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 15:42:38,554 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 15:42:38,554 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 15:42:38,555 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 15:42:38,555 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 15:42:38,555 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 15:42:38,555 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 15:42:38,555 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 15:42:38,556 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 15:42:38,557 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 15:42:38,558 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 15:42:38,558 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 15:42:38,558 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 15:42:38,558 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 15:42:38,559 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 15:42:38,559 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 15:42:38,559 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 15:42:38,561 - services.trade_history_service - INFO - 마지막 업데이트 정보가 없습니다. 전체 기간 조회를 시작합니다.
2025-02-17 15:42:38,561 - services.trade_history_service - INFO - 기간별 조회: 2024-11-19 ~ 2024-11-26
2025-02-17 15:42:38,561 - services.trade_history_service - ERROR - 포지션 정보 조회 및 업데이트 중 오류: TradeHistoryService.get_positions() got an unexpected keyword argument 'symbol'
2025-02-17 15:42:39,599 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 15:42:39,601 - telegram.ext.Application - INFO - Application started
2025-02-17 15:42:39,867 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 15:43:22,193 - telegram_bot.monitors.auto_analyzer - INFO - 🔄' 1시간봉 분석 시작 (수동) ...
2025-02-17 15:43:22,194 - services.market_data_service - INFO - OHLCV 데이터 조회 시작 - 심볼: BTCUSDT, 시간대: 1h
2025-02-17 15:43:22,633 - ai.gpt_analyzer - INFO - 계산된 지표: ['open', 'high', 'low', 'close', 'volume', 'price_change_24h', 'volume_change_24h', 'rsi', 'macd', 'macd_signal', 'bb_upper', 'bb_middle', 'bb_lower', 'sma_10', 'sma_30', 'adx', 'di_plus', 'di_minus', 'trend', 'trend_strength', 'divergence_type', 'divergence_desc']
2025-02-17 15:43:22,633 - ai.gpt_analyzer - INFO - 시장 데이터: {'symbol': 'BTCUSDT', 'last_price': 79677.2, 'bid': 79586.2, 'ask': 79677.2, 'volume': 485876.529, 'timestamp': None}
2025-02-17 15:43:22,636 - ai.gpt_client - INFO - GPT API 호출 시작 (캐시 사용: False)
2025-02-17 15:43:22,636 - ai.gpt_client - INFO - 캐시 사용하지 않음 - 실제 API 호출
2025-02-17 15:43:24,978 - telegram_bot.formatters.storage_formatter - INFO - 1h 분석 결과 저장 완료: C:\Users\oasis\Aibybit_2\src\data\analysis\analysis_1h.json
2025-02-17 15:43:26,479 - telegram_bot.monitors.auto_analyzer - INFO - 분석 결과 position_suggestion: SELL
2025-02-17 15:43:26,479 - telegram_bot.monitors.auto_analyzer - INFO - 매매 신호 감지: SELL
2025-02-17 15:43:26,479 - order_service - INFO - 매매 신호 실행: {'position_suggestion': 'SELL', 'leverage': 5, 'position_size': 10, 'entry_price': 79677.2, 'stop_loss': 78083.7, 'take_profit1': 81270.74, 'take_profit2': 82864.29, 'reason': '하락 추세, RSI가 50 미만, MACD가 음수, 볼린저밴드 중앙 이하'}
2025-02-17 15:43:26,623 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 850ms
2025-02-17 15:43:27,019 - order_service - INFO - 주문 실행 시도: {'category': 'linear', 'symbol': 'BTCUSDT', 'side': 'Sell', 'orderType': 'Limit', 'qty': '0.001', 'price': '79677.2', 'timeInForce': 'GTC', 'positionIdx': 0, 'reduceOnly': False, 'stopLoss': '78083.7', 'takeProfit': '81270.74'}
2025-02-17 15:43:27,194 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 15:43:27,195 - order_service - INFO - 요청 파라미터:
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Sell",
  "orderType": "Limit",
  "qty": "0.001",
  "price": "79677.2",
  "timeInForce": "GTC",
  "positionIdx": 0,
  "reduceOnly": false,
  "stopLoss": "78083.7",
  "takeProfit": "81270.74"
}
2025-02-17 15:43:27,197 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:812707000 set for Sell position should be lower than base_price:796772000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739774608044
}
2025-02-17 15:43:27,198 - order_service - INFO - === 주문 요청 및 응답 상세 ===
2025-02-17 15:43:27,198 - order_service - INFO - 주문 파라미터:
{
  "symbol": "BTCUSDT",
  "side": "Sell",
  "leverage": 5,
  "position_size": 10,
  "entry_price": 79677.2,
  "stop_loss": 78083.7,
  "take_profit": 81270.74,
  "is_btc_unit": false,
  "orderType": "Limit",
  "timeInForce": "GTC",
  "reduceOnly": false
}
2025-02-17 15:43:27,199 - order_service - INFO - API 응답:
{
  "retCode": 10001,
  "retMsg": "TakeProfit:812707000 set for Sell position should be lower than base_price:796772000??LastPrice",
  "result": {},
  "retExtInfo": {},
  "time": 1739774608044
}
2025-02-17 15:43:27,200 - order_service - ERROR - 매매 신호 실행 실패:
2025-02-17 15:43:27,200 - order_service - ERROR - - 파라미터: {'symbol': 'BTCUSDT', 'side': 'Sell', 'leverage': 5, 'position_size': 10, 'entry_price': 79677.2, 'stop_loss': 78083.7, 'take_profit': 81270.74, 'is_btc_unit': False, 'orderType': 'Limit', 'timeInForce': 'GTC', 'reduceOnly': False}
2025-02-17 15:43:27,201 - order_service - ERROR - - 응답: {'retCode': 10001, 'retMsg': 'TakeProfit:812707000 set for Sell position should be lower than base_price:796772000??LastPrice', 'result': {}, 'retExtInfo': {}, 'time': 1739774608044}
2025-02-17 15:43:27,202 - order_service - ERROR - - 에러 코드: 10001
2025-02-17 15:43:27,202 - order_service - ERROR - - 에러 메시지: TakeProfit:812707000 set for Sell position should be lower than base_price:796772000??LastPrice
2025-02-17 15:57:53,759 - main - INFO - 환경변수 및 설정 초기화 중...
2025-02-17 15:57:53,761 - main - INFO - Bybit 테스트넷 클라이언트 초기화 중...
2025-02-17 15:57:53,767 - main - INFO - 서비스 초기화 중...
2025-02-17 15:57:53,768 - main - INFO - 마켓 데이터 서비스 중...
2025-02-17 15:57:56,534 - services.market_data_service - INFO - 마켓 데이터 로드 완료
2025-02-17 15:57:57,065 - telegram_bot.bot - INFO - 텔레그램 설정 로드:
2025-02-17 15:57:57,065 - telegram_bot.bot - INFO - - admin_chat_id: 583881676
2025-02-17 15:57:57,066 - telegram_bot.bot - INFO - - alert_chat_ids: [-1002464784986]
2025-02-17 15:57:58,189 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 15:57:58,190 - telegram_bot.bot - INFO - 봇 초기화 시작...
2025-02-17 15:57:58,191 - telegram_bot.bot - INFO - Application 빌드 시작...
2025-02-17 15:57:58,891 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-02-17 15:57:58,892 - telegram_bot.bot - INFO - 핸들러 초기화 완료
2025-02-17 15:57:58,892 - telegram_bot.bot - INFO - 봇 초기화 완료, 시작 준비 중...
2025-02-17 15:57:58,892 - telegram_bot.bot - INFO - 봇 시작 시도...
2025-02-17 15:57:58,892 - telegram_bot.bot - INFO - === 봇 시작 시도 ===
2025-02-17 15:57:59,135 - services.trade_history_service - INFO - === 포지션 정보 초기화 시작 ===
2025-02-17 15:57:59,137 - services.trade_store - INFO - 날짜 범위 조회: 20241119 ~ 20250217
2025-02-17 15:57:59,139 - services.trade_store - INFO - 날짜: 20241119, 포지션 수: 0건
2025-02-17 15:57:59,141 - services.trade_store - INFO - 날짜: 20241120, 포지션 수: 0건
2025-02-17 15:57:59,143 - services.trade_store - INFO - 날짜: 20241121, 포지션 수: 0건
2025-02-17 15:57:59,144 - services.trade_store - INFO - 날짜: 20241122, 포지션 수: 0건
2025-02-17 15:57:59,168 - services.trade_store - INFO - 날짜: 20241123, 포지션 수: 1건
2025-02-17 15:57:59,171 - services.trade_store - INFO - 날짜: 20241124, 포지션 수: 2건
2025-02-17 15:57:59,175 - services.trade_store - INFO - 날짜: 20241125, 포지션 수: 2건
2025-02-17 15:57:59,176 - services.trade_store - INFO - 날짜: 20241126, 포지션 수: 0건
2025-02-17 15:57:59,178 - services.trade_store - INFO - 날짜: 20241127, 포지션 수: 0건
2025-02-17 15:57:59,179 - services.trade_store - INFO - 날짜: 20241128, 포지션 수: 0건
2025-02-17 15:57:59,179 - services.trade_store - INFO - 날짜: 20241129, 포지션 수: 0건
2025-02-17 15:57:59,180 - services.trade_store - INFO - 날짜: 20241130, 포지션 수: 0건
2025-02-17 15:57:59,180 - services.trade_store - INFO - 날짜: 20241201, 포지션 수: 0건
2025-02-17 15:57:59,181 - services.trade_store - INFO - 날짜: 20241202, 포지션 수: 1건
2025-02-17 15:57:59,243 - services.trade_store - INFO - 날짜: 20241203, 포지션 수: 4건
2025-02-17 15:57:59,244 - services.trade_store - INFO - 날짜: 20241204, 포지션 수: 1건
2025-02-17 15:57:59,244 - services.trade_store - INFO - 날짜: 20241205, 포지션 수: 0건
2025-02-17 15:57:59,245 - services.trade_store - INFO - 날짜: 20241206, 포지션 수: 0건
2025-02-17 15:57:59,271 - services.trade_store - INFO - 날짜: 20241207, 포지션 수: 4건
2025-02-17 15:57:59,274 - services.trade_store - INFO - 날짜: 20241208, 포지션 수: 11건
2025-02-17 15:57:59,330 - services.trade_store - INFO - 날짜: 20241209, 포지션 수: 3건
2025-02-17 15:57:59,334 - services.trade_store - INFO - 날짜: 20241210, 포지션 수: 1건
2025-02-17 15:57:59,336 - services.trade_store - INFO - 날짜: 20241211, 포지션 수: 1건
2025-02-17 15:57:59,339 - services.trade_store - INFO - 날짜: 20241212, 포지션 수: 1건
2025-02-17 15:57:59,351 - services.trade_store - INFO - 날짜: 20241213, 포지션 수: 2건
2025-02-17 15:57:59,366 - services.trade_store - INFO - 날짜: 20241214, 포지션 수: 2건
2025-02-17 15:57:59,368 - services.trade_store - INFO - 날짜: 20241215, 포지션 수: 0건
2025-02-17 15:57:59,369 - services.trade_store - INFO - 날짜: 20241216, 포지션 수: 0건
2025-02-17 15:57:59,382 - services.trade_store - INFO - 날짜: 20241217, 포지션 수: 10건
2025-02-17 15:57:59,386 - services.trade_store - INFO - 날짜: 20241218, 포지션 수: 5건
2025-02-17 15:57:59,389 - services.trade_store - INFO - 날짜: 20241219, 포지션 수: 1건
2025-02-17 15:57:59,392 - services.trade_store - INFO - 날짜: 20241220, 포지션 수: 31건
2025-02-17 15:57:59,395 - services.trade_store - INFO - 날짜: 20241221, 포지션 수: 3건
2025-02-17 15:57:59,398 - services.trade_store - INFO - 날짜: 20241222, 포지션 수: 10건
2025-02-17 15:57:59,400 - services.trade_store - INFO - 날짜: 20241223, 포지션 수: 7건
2025-02-17 15:57:59,402 - services.trade_store - INFO - 날짜: 20241224, 포지션 수: 11건
2025-02-17 15:57:59,404 - services.trade_store - INFO - 날짜: 20241225, 포지션 수: 2건
2025-02-17 15:57:59,406 - services.trade_store - INFO - 날짜: 20241226, 포지션 수: 7건
2025-02-17 15:57:59,408 - services.trade_store - INFO - 날짜: 20241227, 포지션 수: 7건
2025-02-17 15:57:59,526 - services.trade_store - INFO - 날짜: 20241228, 포지션 수: 4건
2025-02-17 15:57:59,528 - services.trade_store - INFO - 날짜: 20241229, 포지션 수: 0건
2025-02-17 15:57:59,595 - services.trade_store - INFO - 날짜: 20241230, 포지션 수: 15건
2025-02-17 15:57:59,607 - services.trade_store - INFO - 날짜: 20241231, 포지션 수: 8건
2025-02-17 15:57:59,611 - services.trade_store - INFO - 날짜: 20250101, 포지션 수: 0건
2025-02-17 15:57:59,612 - services.trade_store - INFO - 날짜: 20250102, 포지션 수: 0건
2025-02-17 15:57:59,614 - services.trade_store - INFO - 날짜: 20250103, 포지션 수: 0건
2025-02-17 15:57:59,616 - services.trade_store - INFO - 날짜: 20250104, 포지션 수: 0건
2025-02-17 15:57:59,617 - services.trade_store - INFO - 날짜: 20250105, 포지션 수: 0건
2025-02-17 15:57:59,618 - services.trade_store - INFO - 날짜: 20250106, 포지션 수: 0건
2025-02-17 15:57:59,620 - services.trade_store - INFO - 날짜: 20250107, 포지션 수: 0건
2025-02-17 15:57:59,621 - services.trade_store - INFO - 날짜: 20250108, 포지션 수: 0건
2025-02-17 15:57:59,623 - services.trade_store - INFO - 날짜: 20250109, 포지션 수: 0건
2025-02-17 15:57:59,624 - services.trade_store - INFO - 날짜: 20250110, 포지션 수: 0건
2025-02-17 15:57:59,625 - services.trade_store - INFO - 날짜: 20250111, 포지션 수: 0건
2025-02-17 15:57:59,626 - services.trade_store - INFO - 날짜: 20250112, 포지션 수: 0건
2025-02-17 15:57:59,628 - services.trade_store - INFO - 날짜: 20250113, 포지션 수: 0건
2025-02-17 15:57:59,629 - services.trade_store - INFO - 날짜: 20250114, 포지션 수: 0건
2025-02-17 15:57:59,631 - services.trade_store - INFO - 날짜: 20250115, 포지션 수: 0건
2025-02-17 15:57:59,632 - services.trade_store - INFO - 날짜: 20250116, 포지션 수: 0건
2025-02-17 15:57:59,633 - services.trade_store - INFO - 날짜: 20250117, 포지션 수: 0건
2025-02-17 15:57:59,635 - services.trade_store - INFO - 날짜: 20250118, 포지션 수: 0건
2025-02-17 15:57:59,637 - services.trade_store - INFO - 날짜: 20250119, 포지션 수: 0건
2025-02-17 15:57:59,639 - services.trade_store - INFO - 날짜: 20250120, 포지션 수: 0건
2025-02-17 15:57:59,640 - services.trade_store - INFO - 날짜: 20250121, 포지션 수: 0건
2025-02-17 15:57:59,641 - services.trade_store - INFO - 날짜: 20250122, 포지션 수: 0건
2025-02-17 15:57:59,643 - services.trade_store - INFO - 날짜: 20250123, 포지션 수: 0건
2025-02-17 15:57:59,645 - services.trade_store - INFO - 날짜: 20250124, 포지션 수: 0건
2025-02-17 15:57:59,647 - services.trade_store - INFO - 날짜: 20250125, 포지션 수: 0건
2025-02-17 15:57:59,648 - services.trade_store - INFO - 날짜: 20250126, 포지션 수: 0건
2025-02-17 15:57:59,650 - services.trade_store - INFO - 날짜: 20250127, 포지션 수: 0건
2025-02-17 15:57:59,652 - services.trade_store - INFO - 날짜: 20250128, 포지션 수: 0건
2025-02-17 15:57:59,655 - services.trade_store - INFO - 날짜: 20250129, 포지션 수: 0건
2025-02-17 15:57:59,657 - services.trade_store - INFO - 날짜: 20250130, 포지션 수: 0건
2025-02-17 15:57:59,658 - services.trade_store - INFO - 날짜: 20250131, 포지션 수: 0건
2025-02-17 15:57:59,659 - services.trade_store - INFO - 날짜: 20250201, 포지션 수: 0건
2025-02-17 15:57:59,660 - services.trade_store - INFO - 날짜: 20250202, 포지션 수: 0건
2025-02-17 15:57:59,661 - services.trade_store - INFO - 날짜: 20250203, 포지션 수: 0건
2025-02-17 15:57:59,662 - services.trade_store - INFO - 날짜: 20250204, 포지션 수: 0건
2025-02-17 15:57:59,662 - services.trade_store - INFO - 날짜: 20250205, 포지션 수: 0건
2025-02-17 15:57:59,663 - services.trade_store - INFO - 날짜: 20250206, 포지션 수: 0건
2025-02-17 15:57:59,664 - services.trade_store - INFO - 날짜: 20250207, 포지션 수: 0건
2025-02-17 15:57:59,665 - services.trade_store - INFO - 날짜: 20250208, 포지션 수: 0건
2025-02-17 15:57:59,666 - services.trade_store - INFO - 날짜: 20250209, 포지션 수: 0건
2025-02-17 15:57:59,667 - services.trade_store - INFO - 날짜: 20250210, 포지션 수: 0건
2025-02-17 15:57:59,667 - services.trade_store - INFO - 날짜: 20250211, 포지션 수: 0건
2025-02-17 15:57:59,668 - services.trade_store - INFO - 날짜: 20250212, 포지션 수: 0건
2025-02-17 15:57:59,669 - services.trade_store - INFO - 날짜: 20250213, 포지션 수: 0건
2025-02-17 15:57:59,669 - services.trade_store - INFO - 날짜: 20250214, 포지션 수: 0건
2025-02-17 15:57:59,670 - services.trade_store - INFO - 날짜: 20250215, 포지션 수: 0건
2025-02-17 15:57:59,671 - services.trade_store - INFO - 날짜: 20250216, 포지션 수: 0건
2025-02-17 15:57:59,672 - services.trade_store - INFO - 날짜: 20250217, 포지션 수: 0건
2025-02-17 15:57:59,672 - services.trade_store - INFO - 총 157건의 포지션 데이터 로드됨
2025-02-17 15:57:59,673 - services.trade_history_service - INFO - 마지막 업데이트 정보가 없습니다. 전체 기간 조회를 시작합니다.
2025-02-17 15:57:59,674 - services.trade_history_service - INFO - 기간별 조회: 2024-11-19 ~ 2024-11-26
2025-02-17 15:57:59,810 - exchange.bybit_client - INFO - 서버 시간 동기화 완료: offset = 858ms
2025-02-17 15:58:00,950 - apscheduler.scheduler - INFO - Scheduler started
2025-02-17 15:58:00,951 - telegram.ext.Application - INFO - Application started
2025-02-17 15:58:01,107 - services.trade_history_service - INFO - 기간별 조회: 2024-11-26 ~ 2024-12-03
2025-02-17 15:58:01,201 - telegram_bot.bot - INFO - 🤖 바이빗 트레이딩 봇이 시작되었습니다
2025-02-17 15:58:02,300 - services.trade_history_service - INFO - 기간별 조회: 2024-12-03 ~ 2024-12-10
2025-02-17 15:58:03,467 - services.trade_history_service - INFO - 기간별 조회: 2024-12-10 ~ 2024-12-17
2025-02-17 15:58:04,630 - services.trade_history_service - INFO - 기간별 조회: 2024-12-17 ~ 2024-12-24
2025-02-17 15:58:05,809 - services.trade_history_service - INFO - 기간별 조회: 2024-12-24 ~ 2024-12-31
2025-02-17 15:58:07,009 - services.trade_history_service - INFO - 기간별 조회: 2024-12-31 ~ 2025-01-07
2025-02-17 15:58:08,154 - services.trade_history_service - INFO - 기간별 조회: 2025-01-07 ~ 2025-01-14
2025-02-17 15:58:09,318 - services.trade_history_service - INFO - 기간별 조회: 2025-01-14 ~ 2025-01-21
2025-02-17 15:58:10,498 - services.trade_history_service - INFO - 기간별 조회: 2025-01-21 ~ 2025-01-28
2025-02-17 15:58:11,693 - services.trade_history_service - INFO - 기간별 조회: 2025-01-28 ~ 2025-02-04
2025-02-17 15:58:12,860 - services.trade_history_service - INFO - 기간별 조회: 2025-02-04 ~ 2025-02-11
2025-02-17 15:58:14,042 - services.trade_history_service - INFO - 기간별 조회: 2025-02-11 ~ 2025-02-17
